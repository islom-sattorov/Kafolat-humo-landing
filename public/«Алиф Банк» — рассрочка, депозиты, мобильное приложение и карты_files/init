(function(k,t,h){var u="roistat_visit",y="roistat_first_visit",D="roistat_is_need_listen_requests",j="roistat_visit_cookie_expire",d="roistat_is_save_data_in_cookie",w="roistat_cookies_to_resave",g="1209600",q={expires:parseInt(g),path:"/"},v={expires:10*365*24*60*60,path:"/"};var s=function(G){try{return decodeURIComponent(G)}catch(H){var F;F=n(G);if(F===null){return G}return F}};var n=function(J){var I={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var G="";var H=0;while(H<J.length){var F=J.substring(H,H+3);if(Object.prototype.hasOwnProperty.call(I,F)){G+=I[F];H+=3}else{G+=J.substring(H,H+1);H++}}try{return decodeURIComponent(G)}catch(K){return null}};var r=function(){var F=k.maCookiePrefix;return typeof F==="string"?F:"roistat"};var l=r();var z=function(){return k[l+"ProjectId"]};var o=function(){return z().replace(/\D/g,"")};var m=function(I,G){var H=I.length;for(var F=0;F<H;F++){if(G===I[F]){return true}}return false};var C=function(F){var G=o();return m(F,G)};var b=["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"];var c=C(b);var e=function(F){if(!c){return F}var G=F.replace(/^roistat[_-]/,"");return l+"_"+G};var E,x,p;E=k.roistatGetCookie=function(F){var G=e(F);var H=t.cookie.match(new RegExp("(?:^|; )"+G.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return H?s(H[1]):h};p=function(F,M,N){var K=e(F);N=N||{};var I=N.expires;if(typeof I=="number"&&I){var L=new Date();L.setTime(L.getTime()+I*1000);I=N.expires=L}if(I&&I.toUTCString){N.expires=I.toUTCString()}M=encodeURIComponent(M);var G=K+"="+M;for(var J in N){G+="; "+J;var H=N[J];if(H!==true){G+="="+H}}t.cookie=G};x=k.roistatSetCookie=function x(G,K,F){p(G,K,F);var I=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")===-1&&navigator.userAgent.indexOf("FxiOS")===-1;if(!I){return}var J;J=E(w);J=typeof J==="string"?J.split(","):[];for(var H in J){if(J[H]===G){return}}J.push(G);p(w,J.join(","),{path:"/"})};if(k.roistatCookieDomain){q.domain=k.roistatCookieDomain;v.domain=k.roistatCookieDomain}var B={isAvailable:function(){var F=false;if(!k.localStorage||!k.localStorage.setItem||!k.localStorage.getItem||!k.localStorage.removeItem){return F}try{k.localStorage.setItem("testKey","testValue");F=k.localStorage.getItem("testKey")==="testValue";k.localStorage.removeItem("testKey")}catch(G){}return F},save:function(G,H,F){if(this.isAvailable()){localStorage.setItem(e(G),H)}x(G,H,F)},get:function(G){var F=null;if(this.isAvailable()){F=localStorage.getItem(e(G))}if(F===null){F=E(G)}return F}};var A="1067418";A=parseInt(A)>0?A:0;x(u,A,q);if(!(E(u)>0)){B.save(u,A,q)}if(!(B.get(y)>0)){B.save(y,A,v)}if(!(B.get(j)>0)){B.save(j,g,q)}var f="0";B.save(D,f);var i="1";B.save(d,i);var a="0";k.roistatIsInitVisit=!(parseInt(a)>0);k.roistatVisitId=A;k.roistatMetrikaCounterId=""})(window,document,undefined);if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cs,L,bN){var E=function(){var e=cs.maCookiePrefix;return typeof e==="string"?e:"roistat"};var Z=E();var bI=function(){return cs[Z+"Host"]};var bz=false,aa="296",B=13,c1=42,x=bI(),aN="0.2",an="1.0",c8="roistat_visit_cookie_expire",ci="roistat_visit",aT="roistat_cookies_to_resave",ca="roistat_guid",aY="roistat_next_guid",a4="roistat_first_visit",at="roistat_is_need_listen_requests",bl="roistat_is_save_data_in_cookie",dD="roistat_phone",aM="roistat_referrer",db="roistat_marker",bm="roistat_marker_old",bG="roistat_ab",aj="roistat_previous_ab",U="roistat_ab_submit",bP=35*24*60*60,cP="rs",M="roistat",ag="leadhunter_expire",S=5*60*60,bO="roistat_leadHunterEnabled",s="roistat_leadHunterTargetPagesMap",cH="roistat_leadHunterCallbackSettings",a2="roistat_leadHunterScriptId",ab="roistat_isleadHunterScriptIdActive",bj="roistat_multiwidgetEnabled",b9="roistat_multiwidgetVKEnabled",cY="roistat_multiwidgetVKLink",T="roistat_multiwidgetFBEnabled",dh="roistat_multiwidgetFBLink",cK="roistat_multiwidgetTelegramEnabled",bx="roistat_multiwidgetTelegramLink",cV="roistat_multiwidgetWhatsAppEnabled",bM="roistat_multiwidgetWhatsAppLink",dL="roistat_multiwidgetViberEnabled",cN="roistat_multiwidgetViberLink",cW="roistat_onlineChatEnabled",C="roistat_onlineChatSettings",d=7*24*60*60,c3={expires:d,path:"/"},ao="roistat-promo",aw="roistat-phone",J="roistat-phone-country",ap="roistat-phone-region",N="roistat-phone-number",dv="roistat-phone-tel",bW="country",aV="region",bq="number",cd="tel",Y="get-phone",o="roistat_call_tracking",ac="roistat-js-script",bE="roistat_phone_replacement",br="roistat_phone_script_data",c0="roistat-visit-id",a5="roistat_metrika_counter_id",k="roistat_marker_from_referrer",bD="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bS="roistat_emailtracking_emails",m="roistat_geo_data",aX="roistat_promo_code",dx="roistat_proxy_forms",c5="roistat_isMultiDomain",cR=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],cj="roistat_debug",a8="roistat_settings_saved",cy="nocookie",a6=["yandex.ru"],aK="beta_test",cL="roistat_settings_version",b7="roistat-leadhunter-form-template",bC="roistat-leadhunter-pulsator-template",b6="roistat-leadhunter-pulsator-settings",by="roistat-online-chat-pulsator-template",D="roistat-online-chat-iframe-template",dc="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",ae="roistat_last_settings_update_time",cF="roistat_authorized_client",aG="roistat_params",dj=50,aU="mobile",q="tablet",b3="desktop",b0=500,dr=1024;
var cm="ru",aB="en",cC={ru:["Русский","Russian"],en:["Английский","English"]},ak,t;var b8={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var ck={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var c2={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(cs.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cs.roistatAlreadyStarted=true;if(cs.roistatCookieDomain){c3.domain=cs.roistatCookieDomain}var cw=function(){return new Date().getTime()};var A=function(dM){var dN=cw()-bv;var e="["+(dN/1000)+"s] "+dM;bo=bo+"; "+e;if(typeof console!=="undefined"&&console.log&&bz){console.log(e)}};var v=function(e){var dN=e.split(".");var dM=dN.length;if(dM<2){return e}return dN[dM-2]+"."+dN[dM-1]};var dd="cllctr."+v(x);cs.roistat={version:aa,getSource:function(){return ck.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){ck.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cI(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bA(e)},disableCallTracking:function(){b8.callTrackingEnabled=false},setCallTrackingManualMode:function(){b8.callTrackingManual=true},setJSONPRequestTimeout:function(e){b8.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){A("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(e){aI(e,bN)},authClientByEmail:function(e){aI(bN,e)},setDeviceParams:function(){if(!ck.isVisitProcessed){A("Visit is not processed, return");return}var e=p();if(e<=0){A("Invalid arguments, return");return}var dN=cs.screen||null;var dM=cs.navigator||null;var dP={screenWidth:dN!==null?(dN.width||null):null,screenHeight:dN!==null?(dN.height||null):null,screenIsExtended:dN!==null?(dN.isExtended||null):null,screenPixelDepth:dN!==null?(dN.pixelDepth||null):null,screenColorDepth:dN!==null?(dN.colorDepth||null):null,deviceMemory:dM!==null?(dM.deviceMemory||null):null,hardwareConcurrency:dM!==null?(dM.hardwareConcurrency||null):null,language:dM!==null?(dM.language||null):null,maxTouchPoints:dM!==null?(dM.maxTouchPoints||null):null,platform:dM!==null?(dM.platform||null):null};var dO=R()+"/update-visit-by-device-params?visit="+e+"&v="+aa;for(var dR in dP){if(!dP.hasOwnProperty(dR)){continue}var dQ=dP[dR];if(dQ===null){continue}dO+="&"+dR+"="+encodeURIComponent(dQ)}a3(dO)},setRoistatParams:function(dS,dR,dP,dO,dN){var dT=dS!==null&&dI(dS)?dS:{roistat_param1:dS,roistat_param2:dR,roistat_param3:dP,roistat_param4:dO,roistat_param5:dN};if(!ck.isVisitProcessed){A("Visit is not processed, return");return}var dQ=p();if(dQ<=0){A("Invalid arguments, return");return}var dU=bb(dT);if(!aW(dU)){A("Has no valid roistat params for visit update, return");return}bi(dU);var e=R()+"/update-visit-by-params?visit="+dQ+"&v="+aa;for(var dM in dU){if(!Object.prototype.hasOwnProperty.call(dU,dM)){continue}e+="&"+dM+"="+encodeURIComponent(dU[dM])}a3(e)}};var bb=function(dN){var e={};for(i=1;i<=dj;i++){var dM="roistat_param"+i;if(!Object.prototype.hasOwnProperty.call(dN,dM)){continue}var dO=dN[dM];if(dO!==bN&&dO!==null&&dO.toString().length>0){e[dM]=dO}}return e};var bi=function(dN){var dP=aG;var dM=cp.get(dP);var e=JSON.stringify(dN);var dO=dM===e;if(dO){A("Params already updated, return");return}cp.set(dP,e);cs.roistat.page.params=dN};var aI=function(e,dO){if(!ck.isVisitProcessed){A("Visit is not processed, return");return}var dP=e!==bN&&e.length>0,dS=dO!==bN&&dO.length>0;if(!dP&&!dS){A("Invalid client params, return");return}var dQ=p();if(dQ<=0){A("Invalid arguments, return");return}var dR=cF,dT=cp.get(dR),dN=dP?e:dO;if(dT===dN){A('Client "'+dN+'" is already authorized, return');return}A("Auth client: "+dN);cp.set(dR,dN);var dM=R()+"/update-visit-by-client?visit="+dQ+"&v="+aa;
if(dP){dM+="&client_id="+encodeURIComponent(e)}if(dS){dM+="&client_email="+encodeURIComponent(dO)}a3(dM)};var dl=function(dO,dM){var dN=dO.length;for(var e=0;e<dN;e++){if(dM===dO[e]){return true}}return false};var ah=function(){return j(aK)>0};var z=function(){return cs.location.protocol+"//"+cs.location.host+cs.location.pathname};var G=function(){if(dF()){return aU}if(dt()){return q}return b3};var dF=function(){return cs.innerWidth<=b0};var dt=function(){return cs.innerWidth>b0&&cs.innerWidth<=dr};var bc=function(){return cs[Z+"ProjectId"]};var cM=function(){var e=bc().replace(/\D/g,"");A("getProjectHash: "+e);return e};var bt=function(e){var dM=cM();return dl(e,dM)};var cU=function(e){return JSON.parse(JSON.stringify(e))};var bH=function(){var dM=cU(c3),e=parseInt(cp.get(c8));dM.expires=e>0?e:d;return dM};var cI=function(e){if(!ck.isVisitProcessed){c2.onVisitProcessed.push(e)}else{e()}};var cX=function(){ck.isVisitProcessed=true;A("[Roistat] visit id set. Processing callbacks");var dM=c2.onVisitProcessed.length;for(var e=0;e<dM;e++){c2.onVisitProcessed[e]()}if(cs.roistatVisitCallback!==bN){cs.roistatVisitCallback(cs.roistat.getVisit())}};var bA=function(e){c2.onCallTrackingPhoneReceived.push(e)};var di=function(){var dM=c2.onCallTrackingPhoneReceived.length;for(var e=0;e<dM;e++){c2.onCallTrackingPhoneReceived[e]()}};var aC=function aC(e){c2.onSPAPageChanged.push(e)};var cg=function cg(){A("[Roistat] SPA page changed. Processing callbacks");var dM=c2.onSPAPageChanged.length;for(var e=0;e<dM;e++){c2.onSPAPageChanged[e]()}};var aq=function(dP,dO){var dN=dP.className.split(" "),dM=false,e;for(e=0;e<dN.length;e++){if(dN[e]===dO){dM=true;break}}if(!dM){dN.push(dO);dP.className=dN.join(" ")}};var ch=function(dO,dN){var dM=dO.className.split(" "),e;for(e=0;e<dM.length;e++){if(dM[e]===dN){dM.splice(e,1);dO.className=dM.join(" ");break}}};var aJ=function(dN){try{return decodeURIComponent(dN)}catch(dO){var dM;dM=y(dN);if(dM===null){return dN}return dM}};var b2={visitor_uid:function(){A("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dI(cs.AMOPIXEL_IDENTIFIER)||!X(cs.AMOPIXEL_IDENTIFIER.getVisitorUid)){A("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!a7(e)){A("AmoCrmUID: visitor_uid value must be a string");return null}return e}};var aF=function(){for(var dM in b2){var e=b2[dM]();if(e===null){continue}dw(dM,e,c3)}};var bn=function(){return["_ym_uid","_ga"].concat(O(b2))};var y=function(dQ){var dP={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dN="";var dO=0;while(dO<dQ.length){var dM=dQ.substring(dO,dO+3);if(Object.prototype.hasOwnProperty.call(dP,dM)){dN+=dP[dM];dO+=3}else{dN+=dQ.substring(dO,dO+1);dO++}}try{return decodeURIComponent(dN)}catch(dR){return null}};cs.roistatVersion=aa;var bF,am=bt(["860340978620700251","93600421474928811290145"]),K=bt(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"]),l,cA=true,cG=decodeURIComponent(L.location.href),bo="",a1="",bv=new Date().getTime(),da=false,cQ=cs.roistatPhonePrefix?cs.roistatPhonePrefix:"",dE=cs.roistatPhonePrefixBind?cs.roistatPhonePrefixBind:"",V=cs.roistatCalltrackingScripts&&cs.roistatCalltrackingScripts.join?cs.roistatCalltrackingScripts.join(","):"";var co=function(e){if(!K){return e}var dM=e.replace(/^roistat[_-]/,"");return Z+"_"+dM};var j,dw,dJ;j=cs.roistatGetCookie=function(e){var dM=co(e);var dN=L.cookie.match(new RegExp("(?:^|; )"+dM.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return dN?aJ(dN[1]):bN};dJ=function(e,dS,dT){var dQ=co(e);dT=dT||{};var dO=dT.expires;if(typeof dO=="number"&&dO){var dR=new Date();dR.setTime(dR.getTime()+dO*1000);dO=dT.expires=dR}if(dO&&dO.toUTCString){dT.expires=dO.toUTCString()}dS=encodeURIComponent(dS);var dM=dQ+"="+dS;for(var dP in dT){dM+="; "+dP;var dN=dT[dP];if(dN!==true){dM+="="+dN}}L.cookie=dM
};dw=cs.roistatSetCookie=function dw(dM,dP,e){dJ(dM,dP,e);var dO;dO=j(aT);dO=a7(dO)?dO.split(","):[];for(var dN in dO){if(dO[dN]===dM){return}}dO.push(dM);dJ(aT,dO.join(","),{path:"/"})};var bL=function(dM,dO,dN){var e=dM[dO];dM[dO]=function(){if(e){e.apply(this,arguments)}dN.apply(this,arguments)}};var al=function(dN,dM,dO){if(dN.addEventListener){dN.addEventListener(dM,dO,false);return}var e="on"+dM;if(dN.attachEvent){dN.attachEvent(e,dO);return}if(e in dN){bL(dN,e,dO);return}if(dM in dN){bL(dN,dM,dO);return}A("Handler could not be attached")};var r=function(dO,dN){var dM=dO.length;for(var e=0;e<dM;e++){dN(dO[e])}};var O=function(e){var dM=[];bu(e,function(dN,dO){dM.push(dN)});return dM};var bu=function(e,dN){for(var dM in e){if(Object.prototype.hasOwnProperty.call(e,dM)){dN(dM,e[dM])}}};var bB=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aW=function(dM){if(typeof dM!=="object"){return false}for(var e in dM){if(dM.hasOwnProperty(e)){return true}}return false};var dn=function(dN){try{var dM=JSON.parse(dN);if(dM&&typeof dM==="object"){return dM}}catch(dO){}return null};if(L.getElementsByClassName==bN){L.getElementsByClassName=function(dM){var e=[];var dQ=new RegExp("\\b"+dM+"\\b");var dP=this.getElementsByTagName("*");for(var dO=0;dO<dP.length;dO++){var dN=dP[dO].className;if(dQ.test(dN)){e.push(dP[dO])}}return e}}var aL=function(){return String.fromCharCode};var cZ=function(dN){var e="";for(var dM=0;dM<dN.length;++dM){e+=aL()(c1^dN.charCodeAt(dM))}return e};var aS=function(e){return encodeURIComponent(cZ(cv.encode(e)))};var cv={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dN){var e="";var dU,dS,dQ,dT,dR,dP,dO;var dM=0;dN=cv._utf8_encode(dN);while(dM<dN.length){dU=dN.charCodeAt(dM++);dS=dN.charCodeAt(dM++);dQ=dN.charCodeAt(dM++);dT=dU>>2;dR=((dU&3)<<4)|(dS>>4);dP=((dS&15)<<2)|(dQ>>6);dO=dQ&63;if(isNaN(dS)){dP=dO=64}else{if(isNaN(dQ)){dO=64}}e=e+this._keyStr.charAt(dT)+this._keyStr.charAt(dR)+this._keyStr.charAt(dP)+this._keyStr.charAt(dO)}return e},decode:function(dN){var e="";var dU,dS,dQ;var dT,dR,dP,dO;var dM=0;dN=dN.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dM<dN.length){dT=this._keyStr.indexOf(dN.charAt(dM++));dR=this._keyStr.indexOf(dN.charAt(dM++));dP=this._keyStr.indexOf(dN.charAt(dM++));dO=this._keyStr.indexOf(dN.charAt(dM++));dU=(dT<<2)|(dR>>4);dS=((dR&15)<<4)|(dP>>2);dQ=((dP&3)<<6)|dO;e=e+String.fromCharCode(dU);if(dP!=64){e=e+String.fromCharCode(dS)}if(dO!=64){e=e+String.fromCharCode(dQ)}}e=cv._utf8_decode(e);return e},_utf8_encode:function(dM){dM=dM.replace(/\r\n/g,"\n");var e="";for(var dO=0;dO<dM.length;dO++){var dN=dM.charCodeAt(dO);if(dN<128){e+=String.fromCharCode(dN)}else{if((dN>127)&&(dN<2048)){e+=String.fromCharCode((dN>>6)|192);e+=String.fromCharCode((dN&63)|128)}else{e+=String.fromCharCode((dN>>12)|224);e+=String.fromCharCode(((dN>>6)&63)|128);e+=String.fromCharCode((dN&63)|128)}}}return e},_utf8_decode:function(e){var dN="";var dP=0;var dQ=0;var dO=0;var dM=0;while(dP<e.length){dQ=e.charCodeAt(dP);if(dQ<128){dN+=String.fromCharCode(dQ);dP++}else{if((dQ>191)&&(dQ<224)){dO=e.charCodeAt(dP+1);dN+=String.fromCharCode(((dQ&31)<<6)|(dO&63));dP+=2}else{dO=e.charCodeAt(dP+1);dM=e.charCodeAt(dP+2);dN+=String.fromCharCode(((dQ&15)<<12)|((dO&63)<<6)|(dM&63));dP+=3}}}return dN}};var bV=bV||function(dX,dN){var dP={},dQ=dP.lib={},dO=function(){},e=dQ.Base={extend:function(dY){dO.prototype=this;var dZ=new dO;dY&&dZ.mixIn(dY);dZ.hasOwnProperty("init")||(dZ.init=function(){dZ.$super.init.apply(this,arguments)});dZ.init.prototype=dZ;dZ.$super=this;return dZ},create:function(){var dY=this.extend();dY.init.apply(dY,arguments);return dY},init:function(){},mixIn:function(dY){for(var dZ in dY){dY.hasOwnProperty(dZ)&&(this[dZ]=dY[dZ])}dY.hasOwnProperty("toString")&&(this.toString=dY.toString)},clone:function(){return this.init.prototype.extend(this)}},dM=dQ.WordArray=e.extend({init:function(dY,dZ){dY=this.words=dY||[];this.sigBytes=dZ!=dN?dZ:4*dY.length},toString:function(dY){return(dY||dW).stringify(this)},concat:function(dY){var d1=this.words,dZ=dY.words,d0=this.sigBytes;dY=dY.sigBytes;this.clamp();if(d0%4){for(var d2=0;d2<dY;d2++){d1[d0+d2>>>2]|=(dZ[d2>>>2]>>>24-8*(d2%4)&255)<<24-8*((d0+d2)%4)}}else{if(65535<dZ.length){for(d2=0;d2<dY;d2+=4){d1[d0+d2>>>2]=dZ[d2>>>2]}}else{d1.push.apply(d1,dZ)}}this.sigBytes+=dY;return this},clamp:function(){var dY=this.words,dZ=this.sigBytes;dY[dZ>>>2]&=4294967295<<32-8*(dZ%4);dY.length=dX.ceil(dZ/4)},clone:function(){var dY=e.clone.call(this);dY.words=this.words.slice(0);return dY},random:function(dY){for(var d0=[],dZ=0;dZ<dY;dZ+=4){d0.push(4294967296*dX.random()|0)}return new dM.init(d0,dY)}}),dU=dP.enc={},dW=dU.Hex={stringify:function(dY){var dZ=dY.words;dY=dY.sigBytes;for(var d2=[],d1=0;d1<dY;d1++){var d0=dZ[d1>>>2]>>>24-8*(d1%4)&255;d2.push((d0>>>4).toString(16));d2.push((d0&15).toString(16))}return d2.join("")},parse:function(dY){for(var dZ=dY.length,d1=[],d0=0;d0<dZ;d0+=2){d1[d0>>>3]|=parseInt(dY.substr(d0,2),16)<<24-4*(d0%8)
}return new dM.init(d1,dZ/2)}},dT=dU.Latin1={stringify:function(dY){var dZ=dY.words;dY=dY.sigBytes;for(var d1=[],d0=0;d0<dY;d0++){d1.push(String.fromCharCode(dZ[d0>>>2]>>>24-8*(d0%4)&255))}return d1.join("")},parse:function(dY){for(var dZ=dY.length,d1=[],d0=0;d0<dZ;d0++){d1[d0>>>2]|=(dY.charCodeAt(d0)&255)<<24-8*(d0%4)}return new dM.init(d1,dZ)}},dV=dU.Utf8={stringify:function(dY){try{return decodeURIComponent(escape(dT.stringify(dY)))}catch(dZ){throw Error("Malformed UTF-8 data")}},parse:function(dY){return dT.parse(unescape(encodeURIComponent(dY)))}},dS=dQ.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new dM.init;this._nDataBytes=0},_append:function(dY){"string"==typeof dY&&(dY=dV.parse(dY));this._data.concat(dY);this._nDataBytes+=dY.sigBytes},_process:function(dZ){var d1=this._data,d4=d1.words,d3=d1.sigBytes,d2=this.blockSize,dY=d3/(4*d2),dY=dZ?dX.ceil(dY):dX.max((dY|0)-this._minBufferSize,0);dZ=dY*d2;d3=dX.min(4*dZ,d3);if(dZ){for(var d0=0;d0<dZ;d0+=d2){this._doProcessBlock(d4,d0)}d0=d4.splice(0,dZ);d1.sigBytes-=d3}return new dM.init(d0,d3)},clone:function(){var dY=e.clone.call(this);dY._data=this._data.clone();return dY},_minBufferSize:0});dQ.Hasher=dS.extend({cfg:e.extend(),init:function(dY){this.cfg=this.cfg.extend(dY);this.reset()},reset:function(){dS.reset.call(this);this._doReset()},update:function(dY){this._append(dY);this._process();return this},finalize:function(dY){dY&&this._append(dY);return this._doFinalize()},blockSize:16,_createHelper:function(dY){return function(dZ,d0){return(new dY.init(d0)).finalize(dZ)}},_createHmacHelper:function(dY){return function(dZ,d0){return(new dR.HMAC.init(dY,d0)).finalize(dZ)}}});var dR=dP.algo={};return dP}(Math);(function(dV){function dN(dZ,d0,dX,d2,dY,d1,dW){dZ=dZ+(d0&dX|~d0&d2)+dY+dW;return(dZ<<d1|dZ>>>32-d1)+d0}function dP(dZ,d0,dX,d2,dY,d1,dW){dZ=dZ+(d0&d2|dX&~d2)+dY+dW;return(dZ<<d1|dZ>>>32-d1)+d0}function dQ(dZ,d0,dX,d2,dY,d1,dW){dZ=dZ+(d0^dX^d2)+dY+dW;return(dZ<<d1|dZ>>>32-d1)+d0}function dO(dZ,d0,dX,d2,dY,d1,dW){dZ=dZ+(dX^(d0|~d2))+dY+dW;return(dZ<<d1|dZ>>>32-d1)+d0}for(var e=bV,dM=e.lib,dS=dM.WordArray,dU=dM.Hasher,dM=e.algo,dR=[],dT=0;64>dT;dT++){dR[dT]=4294967296*dV.abs(dV.sin(dT+1))|0}dM=dM.MD5=dU.extend({_doReset:function(){this._hash=new dS.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ed,ea){for(var ei=0;16>ei;ei++){var ec=ea+ei,dZ=ed[ec];ed[ec]=(dZ<<8|dZ>>>24)&16711935|(dZ<<24|dZ>>>8)&4278255360}var ei=this._hash.words,ec=ed[ea+0],dZ=ed[ea+1],eb=ed[ea+2],d8=ed[ea+3],d6=ed[ea+4],d4=ed[ea+5],d2=ed[ea+6],d1=ed[ea+7],d0=ed[ea+8],dY=ed[ea+9],dX=ed[ea+10],dW=ed[ea+11],d9=ed[ea+12],d7=ed[ea+13],d5=ed[ea+14],d3=ed[ea+15],eh=ei[0],eg=ei[1],ef=ei[2],ee=ei[3],eh=dN(eh,eg,ef,ee,ec,7,dR[0]),ee=dN(ee,eh,eg,ef,dZ,12,dR[1]),ef=dN(ef,ee,eh,eg,eb,17,dR[2]),eg=dN(eg,ef,ee,eh,d8,22,dR[3]),eh=dN(eh,eg,ef,ee,d6,7,dR[4]),ee=dN(ee,eh,eg,ef,d4,12,dR[5]),ef=dN(ef,ee,eh,eg,d2,17,dR[6]),eg=dN(eg,ef,ee,eh,d1,22,dR[7]),eh=dN(eh,eg,ef,ee,d0,7,dR[8]),ee=dN(ee,eh,eg,ef,dY,12,dR[9]),ef=dN(ef,ee,eh,eg,dX,17,dR[10]),eg=dN(eg,ef,ee,eh,dW,22,dR[11]),eh=dN(eh,eg,ef,ee,d9,7,dR[12]),ee=dN(ee,eh,eg,ef,d7,12,dR[13]),ef=dN(ef,ee,eh,eg,d5,17,dR[14]),eg=dN(eg,ef,ee,eh,d3,22,dR[15]),eh=dP(eh,eg,ef,ee,dZ,5,dR[16]),ee=dP(ee,eh,eg,ef,d2,9,dR[17]),ef=dP(ef,ee,eh,eg,dW,14,dR[18]),eg=dP(eg,ef,ee,eh,ec,20,dR[19]),eh=dP(eh,eg,ef,ee,d4,5,dR[20]),ee=dP(ee,eh,eg,ef,dX,9,dR[21]),ef=dP(ef,ee,eh,eg,d3,14,dR[22]),eg=dP(eg,ef,ee,eh,d6,20,dR[23]),eh=dP(eh,eg,ef,ee,dY,5,dR[24]),ee=dP(ee,eh,eg,ef,d5,9,dR[25]),ef=dP(ef,ee,eh,eg,d8,14,dR[26]),eg=dP(eg,ef,ee,eh,d0,20,dR[27]),eh=dP(eh,eg,ef,ee,d7,5,dR[28]),ee=dP(ee,eh,eg,ef,eb,9,dR[29]),ef=dP(ef,ee,eh,eg,d1,14,dR[30]),eg=dP(eg,ef,ee,eh,d9,20,dR[31]),eh=dQ(eh,eg,ef,ee,d4,4,dR[32]),ee=dQ(ee,eh,eg,ef,d0,11,dR[33]),ef=dQ(ef,ee,eh,eg,dW,16,dR[34]),eg=dQ(eg,ef,ee,eh,d5,23,dR[35]),eh=dQ(eh,eg,ef,ee,dZ,4,dR[36]),ee=dQ(ee,eh,eg,ef,d6,11,dR[37]),ef=dQ(ef,ee,eh,eg,d1,16,dR[38]),eg=dQ(eg,ef,ee,eh,dX,23,dR[39]),eh=dQ(eh,eg,ef,ee,d7,4,dR[40]),ee=dQ(ee,eh,eg,ef,ec,11,dR[41]),ef=dQ(ef,ee,eh,eg,d8,16,dR[42]),eg=dQ(eg,ef,ee,eh,d2,23,dR[43]),eh=dQ(eh,eg,ef,ee,dY,4,dR[44]),ee=dQ(ee,eh,eg,ef,d9,11,dR[45]),ef=dQ(ef,ee,eh,eg,d3,16,dR[46]),eg=dQ(eg,ef,ee,eh,eb,23,dR[47]),eh=dO(eh,eg,ef,ee,ec,6,dR[48]),ee=dO(ee,eh,eg,ef,d1,10,dR[49]),ef=dO(ef,ee,eh,eg,d5,15,dR[50]),eg=dO(eg,ef,ee,eh,d4,21,dR[51]),eh=dO(eh,eg,ef,ee,d9,6,dR[52]),ee=dO(ee,eh,eg,ef,d8,10,dR[53]),ef=dO(ef,ee,eh,eg,dX,15,dR[54]),eg=dO(eg,ef,ee,eh,dZ,21,dR[55]),eh=dO(eh,eg,ef,ee,d0,6,dR[56]),ee=dO(ee,eh,eg,ef,d3,10,dR[57]),ef=dO(ef,ee,eh,eg,d2,15,dR[58]),eg=dO(eg,ef,ee,eh,d7,21,dR[59]),eh=dO(eh,eg,ef,ee,d6,6,dR[60]),ee=dO(ee,eh,eg,ef,dW,10,dR[61]),ef=dO(ef,ee,eh,eg,eb,15,dR[62]),eg=dO(eg,ef,ee,eh,dY,21,dR[63]);ei[0]=ei[0]+eh|0;ei[1]=ei[1]+eg|0;ei[2]=ei[2]+ef|0;ei[3]=ei[3]+ee|0},_doFinalize:function(){var dY=this._data,dZ=dY.words,dW=8*this._nDataBytes,d0=8*dY.sigBytes;dZ[d0>>>5]|=128<<24-d0%32;var dX=dV.floor(dW/4294967296);dZ[(d0+64>>>9<<4)+15]=(dX<<8|dX>>>24)&16711935|(dX<<24|dX>>>8)&4278255360;
dZ[(d0+64>>>9<<4)+14]=(dW<<8|dW>>>24)&16711935|(dW<<24|dW>>>8)&4278255360;dY.sigBytes=4*(dZ.length+1);this._process();dY=this._hash;dZ=dY.words;for(dW=0;4>dW;dW++){d0=dZ[dW],dZ[dW]=(d0<<8|d0>>>24)&16711935|(d0<<24|d0>>>8)&4278255360}return dY},clone:function(){var dW=dU.clone.call(this);dW._hash=this._hash.clone();return dW}});e.MD5=dU._createHelper(dM);e.HmacMD5=dU._createHmacHelper(dM)})(Math);var bJ=function(){return L[aL()(99,111,111,107,105,101)]};var ax=function(){dA();var e={c:dg()};return aS(JSON.stringify(e))};var cJ=function(){var e=p();return(e===bN||e===null)?cy:e};var dg=function(){var e=[];for(var dM in ck.cookies){if(!Object.prototype.hasOwnProperty.call(ck.cookies,dM)){continue}e.push(dM+"="+ck.cookies[dM])}return e.join("; ")};var dA=function(){var e=n();for(var dM in e){if(!Object.prototype.hasOwnProperty.call(e,dM)){continue}ck.cookies[dM]=e[dM]}};var av=function(e){dw(db,e,bH());ck.source.marker=e};var ar=function(){return j(db)};var g=function(){bu(cs.roistat.page.params,function(dM,e){ck.pageParams[dM]=e})};var n=function(){var dO=bJ();var dP=dO.split("; ");var e={};for(var dN=0;dN<dP.length;dN++){var dS=dP[dN];if(dS===""){continue}var dM=dS.split("=");if(dM.length<2){continue}var dR=dM[0].trim();var dQ=dM[1].trim();e[dR]=dQ}return e};var h=function(){return aL()(104,97,115,104)};var aR=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var cf={isAvailable:function(){var dM=false;if(!cs.sessionStorage||!cs.sessionStorage.setItem||!cs.sessionStorage.getItem||!cs.sessionStorage.removeItem){return dM}try{cs.sessionStorage.setItem("testKey","testValue");dM=cs.sessionStorage.getItem("testKey")==="testValue";cs.sessionStorage.removeItem("testKey")}catch(dN){return false}return dM},remove:function(e){if(this.isAvailable()){cs.sessionStorage.removeItem(co(e))}},setObject:function(e,dM){if(this.isAvailable()){cs.sessionStorage.setItem(co(e),JSON.stringify(dM))}},getObject:function(dM){var e=null;if(this.isAvailable()){e=cs.sessionStorage.getItem(co(dM));e=JSON.parse(e)}return e},set:function(e,dM){if(this.isAvailable()){cs.sessionStorage.setItem(co(e),dM)}},get:function(dM){var e=null;if(this.isAvailable()){e=cs.sessionStorage.getItem(co(dM))}return e}};var cp={isAvailable:function(){var dM=false;if(!cs.localStorage||!cs.localStorage.setItem||!cs.localStorage.getItem||!cs.localStorage.removeItem){return dM}try{cs.localStorage.setItem("testKey","testValue");dM=cs.localStorage.getItem("testKey")==="testValue";cs.localStorage.removeItem("testKey")}catch(dN){return false}return dM},remove:function(dM){if(this.isAvailable()){cs.localStorage.removeItem(co(dM))}else{var e=new Date(1970,1,1);dw(dM,"",{expires:e.toUTCString()})}},setObject:function(e,dM){if(this.isAvailable()){localStorage.setItem(co(e),JSON.stringify(dM))}},getObject:function(dM){var e=null;if(this.isAvailable()){e=localStorage.getItem(co(dM));e=dn(e)}return e},set:function(e,dM){if(this.isAvailable()){localStorage.setItem(co(e),dM)}else{if(this.isSaveInCookieEnabled()){dw(e,dM,c3)}}},save:function(dM,dN,e){if(this.isAvailable()){localStorage.setItem(co(dM),dN)}dw(dM,dN,e)},get:function(dM){var e=null;if(this.isAvailable()){e=localStorage.getItem(co(dM))}if(e===null){e=j(dM)}return e},isSaveInCookieEnabled:function(){return this.get(bl)>0}};var cc=function(){return !cb(L.referrer)?L.referrer:null};var X=function(e){return typeof e==="function"};var dI=function(e){return typeof e==="object"};var a7=function(e){return typeof e==="string"};var ad=function(dO,dN){dN=typeof dN!=="undefined"?dN:false;var dP=function(dS){var dR=null;var dT=new RegExp("[#&?]("+dO+"=[^#&?]+)");if(dT.test(dS)){dR=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var dQ=aJ(dR);return dR&&dQ?dQ:dR};var e=dP(cG);if(dN){var dM=L.referrer;if(e===null&&dM){e=dP(dM)}}return e};var df=function(dM,dN){var e=false;if(dM&&dN){e=dM.split(dN).join("")!==dM}return e};if(ad(cj)==="1"||n()[cj]==="1"){bz=true}var cT=function(){return true};var aP=function(){return cT()?cs.roistatMultiWidgetOnly:cs.roistatOnlineChatOnly};var dz=function(){var dM=bc()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bc()==="4";var e=(cs.location.host==="cloud.roistat.com"||cs.location.host==="cloud-eu.roistat.com")&&cs.location.pathname!=="/user/login"&&cs.location.pathname!=="/user/register";var dO=bc()==="349ac99f64416756d4a18e91c71dc95f";var dN=cs.location.host==="datyson.ru"&&cs.location.pathname==="/cloud.html";if((dM&&!e)||(dO&&!dN)){A("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var bh=function(){if("https:"===L.location.protocol){return"https:"}else{return"http:"}};var W=function(dM){var e=L.createElement("img");e.src=dM;A("sendRequestByUrl: "+dM)};var a3=function(dM,dO){A("sendApiRequestJSONP: init with url "+dM);var e=L.createElement("script");e.onload=e.onreadystatechange=function(){var dP=this.readyState?this.readyState:"unknown";A("sendApiRequestJSONP: script state changed to "+dP)
};e.src=dM;if(dO){e.setAttribute("data-roistat-script-id",dO)}e.type="text/javascript";e.async=true;var dN=L.getElementsByTagName("script")[0];dN.parentNode.insertBefore(e,dN);A("sendApiRequestJSONP: script appended")};var b5=function(){if(ck.isCssLoaded){return}(function(){var dM=L.createElement("link"),e=L.getElementsByTagName("head");dM.setAttribute("rel","stylesheet");dM.setAttribute("href",bh()+"//"+x+"/dist/module.css?"+aa);if(e.length>0){ck.isCssLoaded=true;e[0].appendChild(dM)}})()};var cu=function(){return cz()||dG()};var cz=function(){return bp()!==null};var dG=function(){return cr()!==null};var c9=function(){var e=c6();if(e!==null){dw(ci,e,bH())}};var c6=function(){return bp()||cr()||null};var bp=function(){return ad("roistat_visit")};var cr=function(){return ck.visitFromUser};var a=function(dM,e){if(!e&&(ck.isSettingsUpdating||!L.hasFocus())){A("Already updating settings or document not in focus, return");return}var dN=R()+"/get-settings?v="+aa+"&visit="+dM;A("Request new settings");ck.isSettingsUpdating=true;a3(dN)};var aZ=function(){return cp.get(a8)>0};var dq=function(){cp.set(a8,1)};var aE=function(){cp.remove(b7);cp.remove(bC);cp.remove(b6);cp.remove(by);cp.remove(D);cp.remove(cW);cp.remove(dc);cp.remove(f)};var cl=function(){var dP=function(){return cp.get(cL)};var dO=function(){cp.set(cL,B)};var dM=function(){return typeof dP()==="string"};var e=function(){var dQ=Number(dP())>B;A("Settings Version: settings version change status - "+dQ);return dQ};var dN=function(){var dQ=1000*60*60*24;var dT=dk();var dS=cw()-dT;var dR=dS>dQ;A("Settings Version:: expiration day check: lastUpdateTime="+dT+", _lastUpdateTimeDiff="+dS+", _oneDayDiffInMs="+dQ+", result="+(dR?1:0));return dR};if(!dM()){A("Settings Version: set settings version up to 1");dO()}if(dN()||e()){A("Settings Version: clear settings");aE()}};var dB=function(){A("Call: Init");A("Counter version: "+aa);if(ad("roistat_ab_demo")==="1"){A("Roistat initialisation rejected: ab test preview mode");return}bs();cS();if((!au()||dH())&&!aP()){da=true;bQ()}else{cl();c9();var dM=p();H("Init visit with new visit_id, visit_id: "+dM+" and referrer: "+l);bX();bf();c7();roistat.visit=dM;ck.source.marker=ar();cs.roistat.geo=cp.getObject(m);var dN=aZ();if(!dN){a(dM)}else{cX()}}cI(dp);cI(dK);var e=bc()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bc()==="4";if(e){cI(roistat.setDeviceParams)}};var dp=function(){var dS=["96410253627861353","0663743092710733685117","6877276246017445345","65780787090363855409","954273091733054008","860340978620700251","4"];var dO=dl(dS,cM());A("ExternalCounter availableProjects = ["+dS.join(",")+"], result = "+dO);if(!dO){A("ExternalCounter is not available, return");return}A("InitExternalCounter");var dN=bc();var dM=I();var dR=dM?dM:p();var dQ=dN+":"+dR;var e=dN+":"+bV.MD5(bg(L.domain)).toString();var dP=function(dV,dT){var dU=(L.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+dT+"&event_type=view&user_id="+dV;var dW=new XMLHttpRequest;dW.open("GET",dU,true);dW.withCredentials=true;dW.onload=function(){if(dW.readyState===4){if(dW.status!==204){console.error(dW.statusText)}}};dW.onerror=function(){console.error(dW.statusText)};dW.send(null)};dP(dQ,e);A("InitExternalCounter: script appended")};var P=function(dN){if(!dN.isEnabled){return true}var e=new Date();var dU=new Date().toISOString();var dR=e.getUTCDay()===0?7:e.getDay();var dS=dR===6||dR===7;var dT=false;for(var dP=0;dP<dN.days.length;dP++){if(dR===dN.days[dP]){dT=true}}if(!dT){return false}if(dS&&dN.weekendsTime!==null){var dV=new Date(dN.weekendsTime.from).toISOString();var dO=new Date(dN.weekendsTime.to).toISOString();return dU>=dV&&dU<=dO}var dQ=new Date(dN.weekdaysTime.from).toISOString();var dM=new Date(dN.weekdaysTime.to).toISOString();return dU>=dQ&&dU<=dM};var bs=function(){A("Call: initMarker");bF=cx();A("Call: inited marker: "+bF)};var cS=function(){A("Call: initReferrer");l=cc();A("Call: end initReferrer: "+l)};var dK=function(){A("Call: parsing roistat params from url");var dN={};for(i=1;i<=dj;i++){var dM="roistat_param"+i;dN[dM]=ad(dM,false)}var e=bb(dN);if(aW(e)&&Object.keys(e).length>0){bi(e)}A("Call: end parsing roistat params from url")};var cb=function(dN){if(!dN){return true}var e=bg(dN);var dM=bg(L.domain);if(e===dM){return true}var dO=b4();if(dO===null){return false}if(df(e,dO)&&df(dM,dO)){return true}return false};var b4=function(){if(typeof c3.domain==="string"&&c3.domain!==""){return bg(c3.domain)}return null};var bg=function(e){var dM=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return dM.split("/")[0]};var cx=function(){var dQ=j(k)>0;var dS=null;var dN=function(dV){return dV.split("_").join(":u:")};var dU=function(dW){var dV=false;r(a6,function(dX){if(dW.indexOf(dX)>-1){dV=true}});return dV};var dT=function(){var dV=false;var dW;dW=ad(M,dQ);if(dW!==null){dS=dW;dV=true}dW=ad(cP,dQ);if(dW!==null){dS=dW;dV=true}return dV};var dO=function(){var dV=false;var dW=ar();if(dW){dS=dW;
dV=true;cA=false}return dV};var dM=function(){var dV=false;var dX=ad("utm_source",dQ);if(dX!==null){dV=true;dS=":utm:"+dN(dX);var dZ=["utm_medium","utm_campaign","utm_content","utm_term"];var dW;for(var dY=0;dY<dZ.length;dY++){dW=ad(dZ[dY],dQ);if(dW!==null){dS=dS+"_"+dN(dW)}}}return dV};var dP=function(){var dX,dW,dV=false;dW=ad("_openstat",dQ);if(!dW){return false}if(dR(dW)){dX=dW}else{dX=encodeURI(cv.decode(dW));if(!dR(dX)){dX=dW}}if(dX){dX=dN(dX).split(";").join("_");dS=":openstat:"+dX;dV=true}return dV};var dR=function(dV){return dV.match(/^([^;]*(;[^;]*){3})$/)!==null};var e=function(){var dV=false;var dW=L.referrer;if(cb(dW)){return dV}var dX=ad("from",dQ);if(dX!==null&&!df(dX,"http")){if(!dU(dX)){dV=true;dS=dN(dX)}}return dV};if(dT()){A("Init marker: init from RS param "+dS);return dS}if(dM()){A("Init marker: init from UTM "+dS);return dS}if(dP()){A("Init marker: init from OpenStat "+dS);return dS}if(e()){A("Init marker: init from custom tag "+dS);return dS}A("Init marker: try init from cookie "+dS);dO();return dS};var p=function(){return cp.get(ci)};var I=function(){return cp.get(a4)};var af=function(){A("Call: saveReferrer");cp.set(aM,l)};var ce=function(){A("Call: removeReferrer");cp.remove(aM)};var dm=function(){dw(bm,aJ(bF),bH())};var c7=function(){A("Call: refreshPromoCode");if(aP()){A("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return j(ci)};aA(e());if(!cs.onload){cs.onload=function(){aA(e())}}setTimeout(function(){aA(e())},50);setTimeout(function(){aA(e())},200);setTimeout(function(){aA(e())},2000);setTimeout(function(){aA(e())},10000)};cs.roistatPromoCodeRefresh=c7;var ds=function(){var e=[];var dM=L.getElementsByClassName(ao);if(dM&&dM.length){e=dM}return e};var aA=function(e){var dO=ds();A("setPromoCode: "+e+" in "+dO.length+" elements");for(var dN=0;dN<dO.length;dN++){var dM=dO[dN];dM.innerHTML=e?e:""}};var bT=function(){var dN=cx(),dM=j(bm),dP=dN!==null,dO=true;var dR=aJ(aJ(dN)).toLowerCase().split("+").join(" "),dQ=aJ(aJ(dM)).toLowerCase().split("+").join(" ");if(dN&&dM){dO=dR!==dQ}var e=dP&&dO;a1="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dN+":"+dR+" and old "+dM+":"+dQ;A(a1);return e};var aQ=function(){var dM=function(dU){return/[\u0400-\u04FF]/.test(dU)};var dT=false,dQ=l,e=cp.get(aM),dS=cs.location.host;if(!dQ||!dS){A("Call: needOverrideByReferrer (result "+(dT?"true":"false")+"), skip because one of params is empty");return dT}dS=bg(dS);dQ=aJ(dQ);e=aJ(e);var dO=bg(dQ);if(df(dQ,"xn--")&&dM(dS)){A("Call: needOverrideByReferrer (result "+(dT?"true":"false")+"), skip because of bugs with punycode in FF");return dT}if(!dO){A("Call: needOverrideByReferrer (result "+(dT?"true":"false")+"), skip because current referrer is null");return dT}if(!e){dT=!df(dO,dS);A("Call: needOverrideByReferrer (result "+(dT?"true":"false")+"), compare current referrer and host");return dT}if(df(dQ,e)){A("Call: needOverrideByReferrer (result "+(dT?"true":"false")+"), skip because the same referrer");return dT}var dR=dS.split(".").length>2&&dO.split(".").length>2;var dP=cs.roistatCookieDomain!==bN&&cs.roistatCookieDomain!==dS;var dN=dO.split(".").slice(1).join(".")===dS.split(".").slice(1).join(".");if(dR&&dP&&dN){A("Call: needOverrideByReferrer (result "+(dT?"true":"false")+"), skip because sub domains of same domain");return dT}dT=!(df(dO,dS)||(df(dS,dO)));A("Call: needOverrideByReferrer (result "+(dT?"true":"false")+") referrerHost: "+dO+", currentHost: "+dS);return dT};var bY=function(){return ad("utm_nooverride")==="1"};var dH=function(){return !cu()&&!bY()&&(bT()||aQ())};var bZ=function(dM,e){return(dM&&e&&dM!=e)};var bk=function(dN){var e=["cookieExpire"];var dP=dN.leadHunterEnabled;if(Number(cp.get(bO))!==Number(dN.leadHunterEnabled)){cp.set(bO,Number(dN.leadHunterEnabled))}if(dP){var dO={expires:S,path:"/"};if(c3.domain){dO.domain=c3.domain}dw(ag,1,dO)}for(var dM in dN){if(!Object.prototype.hasOwnProperty.call(dN,dM)){continue}if(!dP&&dM.indexOf("leadHunter")>=0&&dM.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!az(e,dM)){cp.set("roistat_"+dM,dN[dM])}}};var c4=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(cp.get(bj))!==Number(e.is_enabled)){cp.set(bj,Number(e.is_enabled))}if(Number(cp.get(b9))!==Number(e.vk.is_enabled)){cp.set(b9,Number(e.vk.is_enabled))}if(cp.get(cY)!==roistat.multiwidget.vk.link){cp.set(cY,roistat.multiwidget.vk.link)}if(Number(cp.get(T))!==Number(e.fb.is_enabled)){cp.set(T,Number(e.fb.is_enabled))
}if(cp.get(dh)!==roistat.multiwidget.fb.link){cp.set(dh,roistat.multiwidget.fb.link)}if(Number(cp.get(cK))!==e.telegram.is_enabled){cp.set(cK,Number(e.telegram.is_enabled))}if(cp.get(bx)!==roistat.multiwidget.telegram.link){cp.set(bx,roistat.multiwidget.telegram.link)}if(Number(cp.get(cV))!==e.whats_app.is_enabled){cp.set(cV,Number(e.whats_app.is_enabled))}if(cp.get(bM)!==roistat.multiwidget.whatsApp.link){cp.set(bM,roistat.multiwidget.whatsApp.link)}if(Number(cp.get(dL))!==e.viber.is_enabled){cp.set(dL,Number(e.viber.is_enabled))}if(cp.get(cN)!==roistat.multiwidget.viber.link){cp.set(cN,roistat.multiwidget.viber.link)}};var ct=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(cp.get(cW))!==Number(e.is_enabled)){cp.set(cW,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;cp.setObject(C,e.advanced_settings)};var w=function(e){cs.roistat.geo=e;cp.setObject(m,e)};var cE=function(e){A("PromoCode: save settings");cp.setObject(aX,e)};var dC=function(dP,dR,dO,dM,dQ,e,dS,dN){bk(dP);roistat.callTracking.enabled=dR.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dO.email;roistat.emailtracking.trackingEmail=dO.trackingEmail;roistat.emailtracking.emails=dO.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=dQ;c4(e);ct(dS);w(dM);cE(dN)};cs.roistatModuleSetVisitCookie=function(dQ,dY,dO,dM,dX,dT,e,d0,dS,dZ){A("Call: roistatModuleSetVisitCookie("+dQ+")");var dU;if(typeof dO.cookieExpire!=="number"){dU=bH().expires}else{dU=dO.cookieExpire}var dR=j(ci);var dW={expires:dU,path:"/"};if(c3.domain){dW.domain=c3.domain}dw(ci,dQ,dW);if(!(j(ci)>0)){cp.save(ci,dQ,dW)}if(!cp.get(a4)){var dN={expires:10*365*24*60*60,path:"/"};if(c3.domain){dN.domain=c3.domain}cp.save(a4,dQ,dN)}var dV=dO.abTests;if((typeof dV!=="undefined")&&cp.isAvailable()){cp.setObject("abTesting",dV)}applyTests();var dP=dO.isNeedToListenRequests;if((typeof dP!=="undefined")&&cp.isAvailable()){cp.set(at,dP)}aA(dQ);if(dY){av(dY);dw(bm,dY,dW)}if(cs.roistatCallback!==bN){cs.roistatCallback(dQ,dY)}if(!d0){d0={}}dC(dO,dM,dX,dT,e,d0.multiwidget_settings,dS,dZ);roistat.callTracking.phone=dM.phone;roistat.callTracking.sessionTime=dM.sessionTime;roistat.callTracking.replacementClasses=dM.replacementClasses;roistat.callTracking.phoneScriptsJson=dM.scripts;roistat.visit=dQ;A("Call: pre renderPromoCode");bf();c7();if(bZ(dR,dQ)){A("roistatModuleSetVisitCookie: visit changed from "+dR+" to "+dQ)}di();dq();cX()};cs.roistatUpdateSettings=function(e){A("Set settings.");ck.isSettingsUpdating=false;dC(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);dq();cX()};var au=function(){var e;if(cs.roistatIsInitVisit===true){e=false}else{e=j(ci)>0}A("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var ba=function(){return l?c(l):""};var R=function(){return bh()+"//"+x+"/api/site/"+an+"/"+bc()};var cB=function(){var dM={expires:1,path:"/"};var e={expires:bP,path:"/"};if(c3.domain){dM.domain=c3.domain;e.domain=c3.domain}var dN=j(bG);if(dN){dw(aj,dN,e)}dw(bG,"",dM);dw(U,"",dM)};var bQ=function(){A("Call: setVisitIdCookie");var dM=function(){var dW=bc(),dT=ba(),dP=cs.roistatIsInitVisit===true?p():0,dV=j(bG),dR=j(ca),dQ=cp.get(a4);dV=dV?dV:"";dQ=dQ?dQ:"";bF=bF&&(!aQ()||cA)?aJ(aJ(bF)):"";H("Init visit with visit id from cookie, visit_id: "+dP+" and referrer: "+dT+" calculateApiUrl marker: "+bF);var dU=encodeURIComponent(cG);A("Calltracking: enabled="+b8.callTrackingEnabled+",manual="+b8.callTrackingManual);var dS=JSON.stringify(cs.roistat.page.params);return R()+"/addVisit?v="+aa+"&marker="+encodeURIComponent(bF)+"&visit="+dP+"&first_visit="+dQ+"&guid="+dR+"&phone_prefix="+cQ+"&phone_prefix_bind="+dE+"&phone_scripts_bind="+V+"&referrer="+dT+"&page="+dU+"&ab="+c(dV)+"&"+h()+"="+ax()+(dS==="{}"?"":"&page_params="+encodeURIComponent(dS))+((!b8.callTrackingEnabled||b8.callTrackingManual)?"&call_tracking_disabled=1":"")};var e=function(dP){setTimeout(function(){A("Call: setVisitIdCookie script creation after timeout");var dQ=L.createElement("script");dQ.onload=dQ.onreadystatechange=function(){var dS=this.readyState?this.readyState:"unknown";A("Call: setVisitIdCookie script state changed to "+dS)};dQ.src=dP;dQ.type="text/javascript";dQ.async=true;dQ.id=ac;var dR=L.getElementsByTagName("script")[0];dR.parentNode.insertBefore(dQ,dR);A("Call: setVisitIdCookie appended "+((L.getElementById(ac))?"true":"false"));A("Call: sendJSONPRequest to URL "+dP);cB()},b8.jsonpRequestTimeout)};if(bF){av(bF);dm()}var dO=j(aY);if(dO){dw(ca,dO,c3)}aF();var dN=dM();e(dN);l?af():ce()};var bX=function(){A("Call: sendAbTests");var dN=function(){var dR=bc(),dQ=j(ci);return bh()+"//"+x+"/site-api/"+aN+"/"+dR+"/visit/"+dQ+"/addAbVariant"};var dO=j(bG);var dM=j(aj);if(dO===dM||!dO){cB();
return}var dP=dN();dP=dP+"?ab="+c(dO);var e=L.createElement("img");e.src=dP;cB()};var a0={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(a0.Android()||a0.BlackBerry()||a0.iOS()||a0.Opera()||a0.Windows())}};var a9={isIE:function(dN,dP){var dQ="IE",dM=L.createElement("B"),e=L.documentElement,dO;if(dN){dQ+=" "+dN;if(dP){dQ=dP+" "+dQ}}dM.innerHTML="<!--[if "+dQ+']><b id="iecctest"></b><![endif]-->';e.appendChild(dM);dO=!!L.getElementById("iecctest");e.removeChild(dM);return dO}};var dk=function(){return cp.get(ae)};var ai=function(){var e="";cs.onerror=function(dR,dQ,dN,dP,dO){var dM=!dP?"":", column: "+dP;dM+=!dO?"":", error: "+dO;e=e+", Error: "+dR+", url: "+dQ+", line: "+dN+dM};setTimeout(function(){var dT=false,dU="";var dP=ds();for(var dS=0;dS<dP.length;dS++){var dO=dP[dS];if(dO!==null&&!dO.innerHTML){dT=true;dU="Promo HTML: "+dO.innerHTML}}if(!(j(ci)>0)){dT=true;dU=dU+"; roistat_visit = "+j(ci)}if(dT){var dN=L.getElementById(ac);var dM=dN?1:0;var dQ=cs.navigator.userAgent;dU=encodeURIComponent(dU);var dR=L.createElement("img");dR.src=bh()+"//"+x+"/site-api/"+aN+"/"+bc()+"/debug?message="+dU+"&agent="+dQ+"&"+h()+"="+ax()+"&jserror="+e+"&scriptResponse="+dM+"&version="+aa+"&debug="+bo}},20000)};var bK=function(){var dN=L.getElementsByTagName("body");var dO=L.documentElement;var dM=0,dP=0;if(dN.length){var e=dN[0];dM=cs.innerWidth||dO.clientWidth||e.clientWidth;dP=cs.innerHeight||dO.clientHeight||e.clientHeight}else{dM=cs.innerWidth||dO.clientWidth;dP=cs.innerHeight||dO.clientHeight}return{width:dM,height:dP}};var bf=function(){var dR=L.getElementsByClassName("roistat-promo-wrap");if(dR.length){A("PromoCode: old promo code length - exit");return}if(aP()){A("PromoCode: Shut down because only online chat need to be inited");return}var dQ=cp.getObject(aX);if(dQ&&dQ.hasOwnProperty("is_enabled")){cs.roistat.promoCode.isEnabled=dQ.is_enabled;A("PromoCode: set is_enabled from storage")}var dO=function(){var dY=L.createElement("div");dY.innerHTML=roistatPromoCode;var dW=L.getElementsByTagName("body");if(dW.length){dW[0].appendChild(dY)}A("PromoCode: appended to body "+roistatPromoCode.length);var dX=L.getElementsByClassName("roistat-promo-wrap")[0];if(!dX){A("PromoCode: roistat-promo-wrap not found, skip");return}var dV=dX.style;var dT,dU,dS;setInterval(function(){dT=bK();dU=dX.offsetWidth;dS=dX.offsetHeight*2;switch(roistatPosition){case"top_left":dV.left=0;dV.top=0;break;case"top":dV.left=((dT.width-dU)/2)+"px";dV.top=0;break;case"top_right":dV.right=0;dV.top=0;break;case"left":dV.left=0;dV.top=((dT.height-dS)/2)+"px";break;case"right":dV.right=0;dV.top=((dT.height-dS)/2)+"px";break;case"bottom_left":dV.left=0;dV.bottom=0;break;case"bottom":dV.left=((dT.width-dU)/2)+"px";dV.bottom=0;break;case"bottom_right":dV.right=0;dV.bottom=0;break;default:dV.left=0;dV.top=0}},500)};var e=cp.getObject("promo_code_options");if(e){A("PromoCode: options already set");cs.roistatPromoCode=e.template;cs.roistatPosition=e.position;dO()}else{if(!cs.roistat.promoCode.isEnabled){A("PromoCode: is not available, skip");return}var dP=L.getElementsByTagName("head")[0]||L.documentElement;var dN=L.createElement("script");dN.src=bh()+"//"+x+"/site-api/"+aN+"/"+bc()+"/getPromoCode";dP.insertBefore(dN,dP.firstChild);A("PromoCode: loading started");var dM=false;dN.onload=dN.onreadystatechange=function(){if(!dM&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dM=true;dN.onload=dN.onreadystatechange=null;if(dP&&dN.parentNode){dP.removeChild(dN)}}if(!dM){return}A("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){A("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};cp.setObject("promo_code_options",e);dO()}}};var az=function(dM,dN){for(var e=0;e<dM.length;e++){if(dM[e]===dN){return true}}return false};var H=function(dM){if(!am||dM===""){return}var e=p();du("visit: "+e+" "+dM)};var du=function(dM){var e=R()+"/log?log="+encodeURIComponent(dM);a3(e)};var aO=function aO(){var dP=cs.onpopstate;var dQ=cs.history.pushState;var e=cs.history.replaceState;al(cs,"popstate",function dO(dR){A("[Roistat]: popstate event catch");cg();if(ah()&&typeof dP==="function"){dP(dR)}});al(cs.history,"pushState",function dN(dS,dT,dR){A("[Roistat]: pushState event catch");cg();if(ah()&&typeof dQ==="function"){dQ.apply(this,[dS,dT,dR])}});al(cs.history,"replaceState",function dM(dS,dT,dR){A("[Roistat]: replaceState event catch");cg();if(ah()&&typeof e==="function"){e.apply(this,[dS,dT,dR])}})};(function bU(){aO();if(cs.onRoistatModuleLoaded!==bN&&typeof cs.onRoistatModuleLoaded==="function"){cs.onRoistatModuleLoaded()}})();(function aH(){var dM="fngr.roistat.com";var dQ=false;
var dP=bc()==="e6b168b42cac9ce8e85d0bdde71e039a";if(!dQ&&!dP){A("Fingerprint: disabled");return}cs.roistat.crossdevice={registerFingerprint:function dN(dR){A("Fingerprint: collected data "+JSON.stringify(dR));roistat.registerOnVisitProcessedCallback(function(){A("Fingerprint: sending to service");var dS=Object.keys(dR).map(function(dU){return dR[dU].key+"="+encodeURIComponent(dR[dU].data)}).join("&");dS=dS+"&visit="+bc()+"|"+I()+"|"+roistat.getVisit();dS+="&host="+encodeURIComponent(cs.location.host);var dT=bh()+"//"+dM+"/register?"+dS;a3(dT)})},markVisit:function e(dR){A("Fingerprint: marking visit "+dR)}};A("Fingerprint: initialising library");var dO=bh()+"//"+dM+"/static/fingerprint.js";a3(dO)})();var bR=function(dM){var dR=function(dY,dW){var dV;if(df(dW,"*")){var dX=new RegExp(dW.split("*").join(".*"));dV=dX.test(dY)}else{dV=dY===dW}A("LeadHunter: compare current: "+dY+", setting: "+dW+" with result = "+(dV?1:0));return dV};var e=cs.location.href,dO=false,dN=false,dT="",dP=0,dS;dS=dM?dM.split(","):[];if(!e||dS.length===0){dO=true}else{dT=aR(e);var dU;for(var dQ=0;dQ<dS.length;dQ++){dU=dS[dQ].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(dU)){if(dR(dT,dU.split(/^!/).join(""))){dN=true;break}}else{dP++;if(dR(dT,dU)){dO=true;break}}}}if(dN){A('LeadHunter: current page "'+dT+'" is disabled by list');return false}if(!dO&&dP>0){A('LeadHunter: current page "'+dT+'" is not listed');return false}A('LeadHunter: current page "'+e+'", cleaned: "'+dT+'" is not disabled in '+dS.length+" list of pages");return true};try{dB()}catch(cD){H(cD)}(function be(){var ea="empty",dR=false,dM=true,d1=false;var d6={roistat_visit:j(ci),marker:bF,user_agent:cs.navigator.userAgent,current_page:{title:L.title,href:cs.location.protocol+"//"+cs.location.host+cs.location.pathname}};var eb=function(eh,eg,ef){if(eh.addEventListener){eh.addEventListener(eg,ef,false)}else{if(eh.attachEvent){eh.attachEvent("on"+eg,ef)}else{A("Handler could not be attached")}}};var d3=function(eh,ef){if(eh===bN||typeof ef!=="string"||ef.length===0){return}var eg=eh.getElementsByClassName(ef);if(eg===bN||eg.length===0){return}return eg[0]};var ec=function(ef){return typeof ef==="object"&&ef!==null};var dS=function(ef,eh,eg){if(ec(ef)){if(eg){ef.classList.add(eh);return}ef.classList.remove(eh)}};var ed=cs.visualViewport;var d0="visualViewport" in cs;var d4=function(ef){return(ef===0)?1:ef};var ee=function(){var ef;if(d0){ef=1/d4(ed.scale)}else{ef=cs.innerWidth/d4(cs.outerWidth)}return ef};var d8=function(){return"scale("+ee()+")"};var d7={leadHunter:function(){var f2="roistat-lh-form",eD="roistat-lh-form",f5="roistat-lh-head-text",eR="roistat-lh-head",ez="roistat-lh-thank-you",fi="roistat-lh-thank-you",ek="roistat-lh-close",el="roistat-lh-submit",e0="roistat-lh-hidden",fH="roistat-lh-wrap",eF="roistat-lh-popup-wrapper",fh="roistat-lh-popup",f4="roistat-lh-agreement",fd="roistat-lh-agreement roistat-lh-mobile",gk="roistat-lh-agreement-input",fT="roistat-lh-agreement-link",ef="roistat-lh-agreement-doc",fY="roistat-lh-alert-row",fp="roistat-lh-agreement",fc="roistat-lh-popup-iframe",fs="roistat_leadHunterUrl",fV="roistat_leadHunterAppearanceUrl",e4="roistat_leadHunterTargetPagesList",ey="roistat_leadHunterCaught",fz="roistat_leadHunterMinTime",eV="roistat_leadHunterAutoShowTime",fw="roistat_leadHunterPulsatorEnabled",eP="roistat_leadHunterScriptsCaught",gl="roistat_leadHunterScriptsShownCount",fa="roistat-lh-load-done",eE="roistat-lh-close-modal",fJ="roistat-lh-script-settings",fI="roistat-lh-setting-size",fZ="roistat-lh-before-submit",ft="roistat-lh-before-submit-done",f7="roistat-lh-after-submit",fM="roistat-lh-event-data",fN="roistat-lh-translate-form",gh={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var ex=0.3,eJ=0.001,eA=false,eM=0,eH=0,eN=0,f9=0,eL=0,e1=false,ep=false,gj=false,eK,fX,fk,fq,fG,eQ,gi,gd,fU,gg,et,ga,fD,fl,fb,ew,ei,eZ,eO,eW,fR,f0,eT,f3,f8,e3;var gc={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var f6=function(gq){var gp=encodeURIComponent?encodeURIComponent:encodeURI;return gp(gq)};var fL=function(){if(!cs.roistat.leadHunter.isEnabled){return false}if(cs.roistatLeadHunterInited){return false}cs.roistatLeadHunterInited=true;if(cp.get(bO)<1){A("LeadHunter: disabled");return false}return true};var eY=function(){ei=cp.get(fs);if(!ei){A("LeadHunter: not active cause of empty url");return false}b5();eZ=cp.get(fV);f9=cp.get(fz);eL=cs.roistat.leadHunter.form.autoShowTime===null?cp.get(eV):cs.roistat.leadHunter.form.autoShowTime;dR=cp.get(fw)==1;eh();A("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(dR?1:0));return true};var e6=function(){return cp.get(ey)>0};var eh=function(){if(!(j(ag)>0)){A("LeadHunter: not active, expired for this visit");
e1=true}};var eq=function(gp){gj=true;eW=fR.src;var gq={version:aa,additionalNotifyEmail:cs.roistat.leadHunter.additionalNotifyEmail,projectKey:bc(),language:ak,visitId:cJ(),moduleTargetOrigin:cs.location.origin,referrer:cs.location.href,windowWidth:cs.innerWidth||0,iframeWrapperWidth:fq.offsetWidth||0,sendRequestUrl:cp.get(fs),message:fa};fR.contentWindow.postMessage(gq,eW);fy();if(gp){A("Beta Test on, iframe fired, rise up iframe show count state");ej()}};var e9=function(){ep=true;eo("click");eq();fF()};var en=function(){var gp=cs.location.hash;if(!gp){return}if(df(gp,"roistat-lead-hunter")){e9()}};var e7=function ev(){A("LeadHunter: binding timeout");if(e1){A("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eA){A("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eL>0){var gp=(eM-cw())+eL*1000;A("LeadHunter: binding timeout with delay "+gp+" ms");clearTimeout(gc.timeoutId);gc.timeoutId=setTimeout(function(){A("LeadHunter: form auto activate with autoTime = "+eL);if(!eA){A("LeadHunter: show by timeout");ep=true;eo("auto");eq(true);fF()}},gp)}else{A("LeadHunter: auto show time is not positive, feature disabled")}};var fW=function(){fU.onclick=fG.onclick=fn;gg.onclick=e2;if(ec(ga)){eb(ga,"click",fe)}if(ec(fD)){eb(fD,"change",gn)}var gq=L.getElementsByClassName("roistat-lh-input");if(Array.isArray(gq)){for(var gt=0;gt<gq.length;gt++){eb(gq[gt],"keyup",function(gx){gx=gx||event;var gw=(gx.keyCode?gx.keyCode:gx.which);if(gw==13){e2()}})}}var gr=cs.onresize;cs.onresize=function(gw){if(gr){gr(gw)}f1(gw)};if(!e1){var gp=L.onmouseout;L.onmouseout=function(gw){if(gp){gp(gw)}fC(gw)}}if(dR&&!dZ()&&ec(eK)){eK.onmouseover=function(){aq(eK,"roistat-lh-pulsator-hover")};eK.onmouseout=function(){ch(eK,"roistat-lh-pulsator-hover")};eK.onclick=function(){e9()};cs.addEventListener("resize",function gv(){if(ec(eK)){eK.style.transform=d8()}});if(d0){ed.addEventListener("resize",function gu(){if(ec(eK)){eK.style.transform=d8()}})}}var gs=cs.onhashchange;cs.onhashchange=function(){if(gs){gs.apply(this,arguments)}en()}};var gf=function(){if(dR&&!dZ()&&ec(eK)){eK.onmouseover=function(){aq(eK,"roistat-lh-pulsator-hover")};eK.onmouseout=function(){ch(eK,"roistat-lh-pulsator-hover")};eK.onclick=function(){e9()};cs.addEventListener("resize",function gt(){eK.style.transform=d8()});if(d0){ed.addEventListener("resize",function gs(){if(ec(eK)){eK.style.transform=d8()}})}}fG.onclick=fn;fR=L.getElementById(fc);if(ec(fR)){eb(fR,"load",function(){eq();gb()})}var gq=cs.onresize;cs.onresize=function(gu){if(gq){gq(gu)}f1(gu)};if(!e1){var gp=L.onmouseout;L.onmouseout=function(gu){if(gp){gp(gu)}if(!ah()){A("ShowLimit: Beta Test off, check cursor usually");fC(gu)}else{A("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fE()&&!eI()){A("ShowLimit: Check cursor allowed");fC(gu,true)}}}}var gr=cs.onhashchange;cs.onhashchange=function(){if(gr){gr.apply(this,arguments)}en()}};var fm=function(gq){var gp=L.getElementsByClassName(gq);if(gp.length>0){return gp[0]}else{return null}};var fj=function(){var gs=fm("roistat-lh-title");if(ec(gs)&&roistat.leadHunter.form.title){gs.innerHTML=roistat.leadHunter.form.title}var gq=fm("roistat-lh-sub-title");if(ec(gq)&&roistat.leadHunter.form.subTitle){gq.innerHTML=roistat.leadHunter.form.subTitle}var gr=fm("roistat-lh-thank-you");if(ec(gr)&&roistat.leadHunter.form.thankYouText){gr.innerHTML=roistat.leadHunter.form.thankYouText}var gu=fm("roistat-lh-submit");if(ec(gu)&&roistat.leadHunter.form.buttonText){gu.value=roistat.leadHunter.form.buttonText}var gt=fm("roistat-lh-text-label-name");if(ec(gt)&&roistat.leadHunter.form.nameLabel){gt.innerHTML=roistat.leadHunter.form.nameLabel}var gp=fm("roistat-lh-text-label-contact");if(ec(gp)&&roistat.leadHunter.form.contactLabel){gp.innerHTML=roistat.leadHunter.form.contactLabel}};var eG=function(gq,gu,gt){var gp;if(!gq){A("LeadHunter: deactivating, empty form")}else{A("LeadHunter: rendering hidden form")}fG=L.createElement("div");fq=L.createElement("div");fq.innerHTML=gq;fG.className=e0;fq.className=e0;A("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(dR?1:0));if(gu&&dR&&gt&&!dZ()){var gr=typeof gt.position==="string"&&gt.position!==""?gt.position:"bottomRight";gp=L.createElement("div");gp.innerHTML=gu;eK=gp.childNodes.item(0);fX=eK.childNodes.item(1);fk=eK.childNodes.item(2).childNodes.item(0);fX.setAttribute("style","background: "+gt.button.background+";");fk.setAttribute("style","fill: "+gt.button.color+";");eK.setAttribute("style","bottom: "+gh[gr].bottom+";right:"+gh[gr].right+";");eK.style.transformOrigin=gh[gr].transformOrigin;eK.style.transform=d8();gc.pulsator.previousClass=eK.className;eK.className=e0;L.body.appendChild(eK)}L.body.appendChild(fG);L.body.appendChild(fq);eQ=L.getElementById(eR);gi=L.getElementById(eD);gd=L.getElementById(fi);fU=L.getElementById(ek);gg=L.getElementById(el);et=L.getElementById(f4);fD=L.getElementById(gk);ga=L.getElementById(fT);fl=L.getElementById(ef);fb=L.getElementById(fY);
ew=L.getElementById(fp);var gs=fm(eF);eO=ec(gs)&&gs.getAttribute("data-is-iframe");if(eO){gf()}else{fj();fW();en();gb()}};var ge=function(gr){var gq=gr.button&&gr.button.background&&gr.button.color;if(!gq){return}cp.setObject(b6,e3);var gp=typeof gr.position==="string"&&gr.position!==""?gr.position:"bottomRight";if(ec(fX)){fX.setAttribute("style","background: "+gr.button.background+";")}if(ec(fk)){fk.setAttribute("style","fill: "+gr.button.color+";")}if(ec(eK)){eK.setAttribute("style","bottom: "+gh[gp].bottom+";right:"+gh[gp].right+";");eK.style.transformOrigin=gh[gp].transformOrigin;eK.style.transform=d8()}};var eu=function(){var gp=cp.get(b7),gr=cp.get(bC),gq=cp.getObject(b6);eG(cv.decode(gp),cv.decode(gr),gq)};var e5=function(){var gq=fq.clientWidth,gp=fq.clientHeight;if(ec(fq)){fq.setAttribute("style",fq.getAttribute("style")+" width: "+gq+"px; height: "+gp+"px;")}if(ec(gi)){gi.className=e0}if(ec(eQ)){eQ.className=e0}if(ec(et)){et.className=e0}if(ec(gd)){gd.setAttribute("style","width: "+gq+"px; height: "+gp+"px; display: table-cell;");gd.className=ez}setTimeout(function(){A("LeadHunter: close form after timeout");fn()},7000)};var fF=function(){var gq=Math.round((fS()-fq.clientHeight)/2);var gp=Math.round((go()-fq.clientWidth)/2);if(ec(fq)){fq.setAttribute("style","left: "+gp+"px; top: "+Math.max(0,gq)+"px;")}};var eo=function(gq){if(cs.roistat.leadHunter.onBeforeAppear){A("LeadHunter: process user defined onBeforeAppear");cs.roistat.leadHunter.onBeforeAppear(gq);if(eO){fy()}}if(ec(fq)){fq.setAttribute("style","left:20px;top:-20px;opacity:0");fq.className=fh}if(ec(fG)){fG.className=fH}if(ec(gi)){gi.className=f2}if(ec(eQ)){eQ.className=f5}if(ec(et)){et.className=fd}if(ec(gd)){gd.setAttribute("style","");gd.className=e0}if(ec(fG)){fG.setAttribute("style","opacity:0;")}eA=true;setTimeout(function(){fG.setAttribute("style","opacity:.5;")},10);var gr=j(ci),gp=eZ+"?visit_id="+gr+"&page="+z();W(gp);if(cs.roistat.leadHunter.onAfterAppear){A("LeadHunter: process user defined onAfterAppear");cs.roistat.leadHunter.onAfterAppear(gr,fG,fq,gi);if(eO){fy()}}};var fK=function fo(){eM=cw();eu();A("LeadHunter: form initialized")};var gb=function e8(){A("LeadHunter: tuning appearance for page");if(!bR(cp.get(e4))||(cp.get(a2)&&!cp.get(ab))){A("LeadHunter: disabled on page");gc.leave.isShowEnabled=false;clearTimeout(gc.timeoutId);if(dZ()){dM=false;dW()}if(ec(eK)){eK.className=e0}}else{A("LeadHunter: enabled on page");if(!e6()&&!ah()){A("ShowLimit: Beta Test off, bindShowOnTimeout usually");gc.leave.isShowEnabled=true;e7()}if(ah()){A("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fE()&&!eI()){A("ShowLimit: bindShowOnTimeout allowed");gc.leave.isShowEnabled=true;e7()}}if(ec(eK)){eK.className=gc.pulsator.previousClass}}};var eS=function fB(){A("LeadHunter: processing single page application state change");eM=cw();gb()};var fQ=function ff(){aC(eS);var gq=function(){var gw=L.querySelector("html"),gs=600,gv=300,gy=cs.innerWidth,gr=getComputedStyle(gw).zoom,gu={};var gt=function(){var gz=gw.style.cssText.split(";").find(function(gA){return gA.includes("--zoomLevel")});if(gz!==bN){gz=gz.split(":");if(gz.length>1){gz=parseFloat(gz[1])}else{return bN}}return gz};var gx=gt();if(gx!==bN){gr=gx}if(gy<gs&&gy>=gv){gu={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gr};fR.contentWindow.postMessage({sizeSettings:gu,message:fI,windowWidth:cs.innerWidth||0},eW);return}if(gy<gv){gu={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gr};fR.contentWindow.postMessage({sizeSettings:gu,message:fI,windowWidth:cs.innerWidth||0},eW);return}gu={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gr};fR.contentWindow.postMessage({sizeSettings:gu,message:fI,windowWidth:cs.innerWidth||0},eW)};cs.roistatLeadHunterUpdate=gq;al(cs,"load",function(){gq()});al(cs,"resize",function(){gq()});al(cs,"message",function gp(gv){var gA=typeof gv.data==="string"?gv.data:gv.data.message;if(gA===fJ){f0=gv.data.scriptId;eT=gv.data.showsLimit;var gz=cp.getObject(s)!==null;if(gz){f3=gv.data.leadHunterAutoShowTime;f8=gv.data.leadHunterMinTime;f8=gv.data.leadHunterMinTime;e3=gv.data.leadHunterPulsatorSettings;cp.set(fz,f8);cp.set(eV,f3);if(e3){var gy=Number(e3.isEnabled);A("Leadhunter: set pulsator setting "+gy);cp.set(fw,gy);ge(e3)}}A("ShowLimit: Get lhScriptId: "+gv.data.leadHunterId+" and lhScriptMaxShownCount: "+gv.data.leadHunterMaxShownCount+" from lh widget");fv()}if(gA===eE){fn()}if(gA===fI){const gu=typeof gv.data==="object"&&gv.data.calibratingSize!==bN?gv.data.calibratingSize:true;fR.setAttribute("style","width: "+gv.data.width+"px !important; height: "+gv.data.height+"px !important;");if(gj&&!gu){fR.contentWindow.postMessage({message:fI,windowWidth:cs.innerWidth||0,calibratingSize:true},eW)}f1(gv)}if(gA===fZ){var gt=gv.data.caughtLeadData;if(cs.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gr=cs.roistat.leadHunter.onBeforeSubmit(gt);if(gr){gt=gr}}if(!ah()){A("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");
er()}else{A("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fx()}var gs=cp.getObject(cH);var gx=gs!==null;var gw=gx&&gt.isNeedCallback===null&&!P(gs);if(gw){gt.isNeedCallback=0}fR.contentWindow.postMessage({caughtLead:gt,message:ft},eW)}if(gA===f7){if(cs.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");cs.roistat.leadHunter.onAfterSubmit({name:gv.data.name,phone:gv.data.phone})}}})};function fy(){var gp={apiData:cs.roistat.leadHunter.form,message:fM};fR.contentWindow.postMessage(gp,eW)}function fv(){if(!fL()){A("checkLeadHunterLaunch false");return}var gp=cp.getObject(s)!==null;if(gp){es()}if(!eY()){A("initSettings false");return}A("LeadHunter: activated");fK();gb();fQ()}function fS(){return(cs.innerHeight?cs.innerHeight:L.documentElement.clientHeight==0?L.body.clientHeight:L.documentElement.clientHeight)}function go(){return(cs.innerWidth?cs.innerWidth:L.documentElement.clientWidth==0?L.body.clientWidth:L.documentElement.clientWidth)}function fC(gs,gp){gs=gs||event;eN=gs.clientY;var gq=eN/fS(),gu=eH>0&&eH>gq,gr=gq<eJ,gt=(cw()-eM)>f9*1000;if(gu&&gr&&!eA&&gt&&gc.leave.isShowEnabled&&!e6()){A("LeadHunter: show modal with because move up ("+eH+" -> "+gq+") and in modal zone and show on leave enabled");eo("exit");eq(gp);fg(gs)}if(gq<ex){eH=gq}}function f1(gp){if(ep){fF()}else{gp=gp||event;fg(gp)}}function fg(gu){var gq=gu.type==="message"?gu.data.width:fq.offsetWidth;var gr=go();var gp=gu.clientX-Math.round(gq/2)||fq.offsetLeft;gp=Math.max(20,Math.min(gp,gr-gq-20));var gv=gp+gq>gr-40;if(gv){var gs=(gp+gq-20)-(gr-40);gp=gp-gs}var gt=gr-40>gq?"":"width: "+(gq-40)+"px;";if(ec(fq)){fq.setAttribute("style","left: "+gp+"px; top: 0px; "+gt)}}function er(){cs.roistatSetCookie(ey,1,c3)}function fn(){if(!ah()){A("ShowLimit: Beta Test off, setCookieLeadHunterCaught");er()}if(ec(fG)){fG.setAttribute("style","opacity:0")}if(ec(fq)){fq.style.top="-"+fq.offsetHeight*2+"px";setTimeout(function(){fq.className=fG.className=e0},500)}}function e2(){var gD=L.getElementById("roistat-lh-phone-input"),gr=L.getElementById("roistat-lh-name-input"),gt,gB;gt=gD===null?"":gD.value;gB=gr===null?"":gr.value;var gy={name:gB,phone:gt,isNeedCallback:null,callbackPhone:null,fields:{}};if(cs.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gu=cs.roistat.leadHunter.onBeforeSubmit(gy);if(gu){gy=gu}}var gA=gy.phone.length<1;var gC=gy.phone.indexOf("_")===-1;var gw=!gA&&gC;var gz=gy.name.length<1;var gq=!gz||!cs.roistat.leadHunter.form.isNameRequired;if(!gw&&ec(gD)){gD.setAttribute("style","border: 2px solid #E0571A;");return}if(!gq&&ec(gr)){gr.setAttribute("style","border: 2px solid #E0571A;");return}var gp=ei+"?v="+aa+"&lead-hunt-input="+encodeURIComponent(gy.phone)+"&lead-name="+encodeURIComponent(gy.name)+"&visit="+cJ();if(gy.isNeedCallback!==null&&gy.isNeedCallback!==bN){gp=gp+"&is_need_callback="+(gy.isNeedCallback>0?1:0)}if(gy.callbackPhone){gp=gp+"&callback_phone="+gy.callbackPhone}if(cs.roistat.leadHunter.additionalNotifyEmail!==null){gp=gp+"&additional_email="+encodeURIComponent(cs.roistat.leadHunter.additionalNotifyEmail)}var gs=0;if(gy.fields&&typeof gy.fields==="object"){for(var gv in gy.fields){if(gy.fields.hasOwnProperty(gv)){++gs}}}if(gs>0){gp=gp+"&fields="+f6(JSON.stringify(gy.fields))}gp=gp+"&t="+cw();var gx=L.createElement("img");gx.src=gp;if(ec(gD)){gD.setAttribute("style","")}if(!ah()){A("ShowLimit: Beta Test off, caught LH usually");er()}else{A("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fx()}if(!ec(gd)){fn();eX()}else{e5()}if(cs.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");cs.roistat.leadHunter.onAfterSubmit({name:gB,phone:gt})}}function fe(gp){if(gp.preventDefault){gp.preventDefault()}else{gp.returnValue=false}if(ec(fl)){fl.style.display==="block"?fl.style.display="none":fl.setAttribute("style","display: block; padding: 0 30px; width:"+fq.clientWidth+"px;")}f1()}function gn(){if(ec(gg)){gg.disabled===true?gg.disabled=false:gg.disabled=true}if(ec(fb)){fb.style.display==="block"?fb.style.display="none":fb.style.display="block"}}function eX(){L.onmousemove=null;if(ec(fG)){fG.onresize=null}}var eU=function(gv,gy){if(!gv||!gy){A("LeadHunter: skip phone mask render due to empty input or mask");return}A("LeadHunter: render phone mask "+gy+" for input: "+gv.value);if(cs.roistatRenderPhoneMaskMutex){return}cs.roistatRenderPhoneMaskMutex=true;var gs="_",gr="x",gu="х",gt=gy.toLowerCase().split(gr).join(gs).split(gu).join(gs);var gq=function(gz){if(gv.setSelectionRange){gv.setSelectionRange(gz,gz)}else{if(gv.createTextRange){var gA=gv.createTextRange();gA.collapse(true);gA.moveEnd("character",gz);gA.moveStart("character",gz);gA.select()}}};var gw=function(gz){if(!gz){return 0}var gA=gz.indexOf(gs);if(gA<0){return gz.length}return gA};var gx=function(gz){gq(gw(gz))};var gp=function(gI){var gJ=gt.split("");if(!gI){return gt}var gz=gI.split("");var gK=[],gH,gE,gG,gD,gB,gA,gF;
for(var gC=0;gC<gJ.length;gC++){gE=gJ[gC];if(gC>=gz.length){gK.push(gE);continue}gB=((gC+1)<gJ.length)?gJ[gC+1]:null;gA=((gC+1)<gz.length)?gz[gC+1]:null;gF=((gC+2)<gz.length)?gz[gC+2]:null;gH=gz[gC];gG=parseInt(gH)>=0;gD=(gE===gs)&&gG;if(!gD){gK.push(gE);continue}if(gA===gs&&gB!==gs&&gF!==gB){gK.push(gE);continue}gK.push(gH)}return gK.join("")};setTimeout(function(){var gz=gp(gv.value);if(gv.value!==gz){gv.value=gz}gx(gz);cs.roistatRenderPhoneMaskMutex=false},1)};var fP=function(gp,gr,gq){cp.set(b7,cv.encode(gp));cp.set(bC,cv.encode(gr));cp.setObject(b6,gq)};var fu=function(gp){ak=gp;if(fR===bN){return}eg()};var eg=function(){var gp={language:ak,message:fN};fR.contentWindow.postMessage(gp,eW)};var fx=function(){A("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gp=eB(eP);if(!gp){gp={}}A("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gp[f0]=1;fO(eP,gp)};var ej=function(){A("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gq=eB(gl);if(!gq){gq={}}var gr=gq.hasOwnProperty(f0);if(!gr){A("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");gq[f0]=0}var gp=gq[f0]+1>eT;if(gp){A("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}A("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gq[f0]+=1;fO(gl,gq)};var fO=function(gp,gq){dw(gp,JSON.stringify(gq),c3)};var eB=function(gp){var gq=j(gp);if(typeof gq!=="undefined"){return JSON.parse(gq)}return gq};var eI=function(){if(eT===0){A("ShowLimit: show limit off and set to 0");return false}var gp=eB(gl),gq=gp?gp[f0]:null,gr=gq+1>eT;A("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gr);return gr};var fE=function(){var gr=eB(eP),gp=gr?gr[f0]:null,gq=gp===1;A("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gq);return gq};var es=function(){cp.set(a2,em());cp.set(b7,cv.encode(fA()));cp.set(e4,eC());cp.set(fw,gm())};var fA=function(){var gp=bh()+"//"+x+"/api/site/1.0/"+bc()+"/leadhunter/script/"+cp.get(a2)+"/widget?visit_id="+p();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gp+'" frameborder="0"></iframe></div>'};var em=function(){var gq=cp.getObject(s);if(gq===null){return}cp.set(ab,"");var gu=Number(cp.get(bO));var gy=Object.keys(gq);var gv=gy.sort()[0];if(!gu){return gv}for(var gt=0;gt<gy.length;gt++){var gz=gq[gy[gt]];var gw=gz.targetPageList;var gs=bR(gw.join(","));var gr=gw.length===0;var gp=Array.isArray(gz.devicesFilter)&&gz.devicesFilter.length>0?gz.devicesFilter.indexOf(G())!==-1:true;var gx=(gr||gs)&&gp&&(!gz.timetable.isEnabled||P(gz.timetable));if(gx){gv=gy[gt];cp.set(ab,gv)}}return gv};var eC=function(){var gp=fr();return gp!==null?gp.targetPageList.join(","):""};var gm=function(){var gp=fr();return gp!==null?Number(gp.isPulsatorEnabled):0};var fr=function(){var gp=cp.get(a2);var gq=JSON.parse(cp.get(s));return gq[gp]!==null?gq[gp]:null};cI(fv);cs.roistatLeadHunterShow=e9;cs.roistatRenderPhoneMask=eU;cs.roistat.leadHunter.localization.translateToRussian=function(){fu(cm)};cs.roistat.leadHunter.localization.translateToEnglish=function(){fu(aB)}},multiwidget:function(){var eV="roistat-multiwidget-hidden",e5="roistat-multiwidget-pulsator-phone",e3="roistat-multiwidget-pulsator-popup-item-lead-hunter",ew="roistat-multiwidget-pulsator-fill",e8="roistat-multiwidget-pulsator-fill-svg",eM="roistat-multiwidget-pulsator-img-icon",ev="roistat-multiwidget-pulsator-popup-item-chat",ei="roistat-multiwidget-pulsator-popup-item-facebook",en="roistat-multiwidget-pulsator-popup-item-vk",eL="roistat-multiwidget-pulsator-popup-item-telegram",eC="roistat-multiwidget-pulsator-popup-item-whats-app",eA="roistat-multiwidget-pulsator-popup-item-viber",eQ="roistat-multiwidget-pulsator-items-popup-holder",eK="iframe_chat_successfully_loaded",ep="roistat-multiwidget-pulsator-popup-tail",eI="roistat-online-chat-popup-wrapper",e7="roistat-online-chat-popup-wrapper-hidden",e1="roistat-multiwidget-pulsator-holder-hidden";var eu,eP,eD,e4,ef,el,e6,eH,er,eh,es,ej,eX,ek;var ez=false;var e2={topLeft:{bottom:"unset",right:"unset",top:dF()?0:"20px",left:dF()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:dF()?0:"35px",top:dF()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:dF()?0:"20px",right:dF()?0:"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:dF()?0:"20px",right:"unset",top:"unset",left:dF()?0:"35px",transformOrigin:"bottom left"}};var eo={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eB={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};
function eU(fa){A("Multiwidget: "+fa)}function eJ(){eP=d3(eu,e5);eD=d3(eu,eQ);e4=d3(eu,ep);eH=d3(eD,e3);er=d3(eD,ev);eh=d3(eD,en);es=d3(eD,ei);ej=d3(eD,eL);eX=d3(eD,eC);ek=d3(eD,eA);ef=d3(eP,ew);el=eP.getElementsByClassName(e8);e6=d3(eP,eM)}function ex(){if(ec(eD)){eD.classList.toggle(eV)}}function e0(fa){if(ec(fa)){fa.classList.toggle("opened")}}function e9(){eU("add pulsator events");eb(eP,"click",function(){if(!eF()){ex()}e0(eP)});eb(eH,"click",function(){eU("opening leadhunter via multiwidget");cs.roistatLeadHunterShow();ex();dS(eP,"opened",false)});eb(er,"click",function(){eU("opening online chat via multiwidget");cs.roistatOnlineChatShow();ex()});eb(eh,"click",function(){cs.open(cp.get(cY),"_blank")});eb(es,"click",function(){cs.open(cp.get(dh),"_blank")});eb(ej,"click",function(){cs.open(cp.get(bx),"_blank")});eb(eX,"click",function(){cs.open(cp.get(bM),"_blank")});eb(ek,"click",function(){cs.open(cp.get(cN),"_blank")})}function eF(){var fa=d3(L,eI);return ec(fa)&&!fa.classList.contains(e7)}function eG(){return ec(eQ)&&!eQ.classList.contains(eV)}function em(fa){if(ec(fa)){fa.classList.add(eV)}}function eS(fa){if(ec(fa)){fa.classList.remove(eV)}}function eN(){em(eH)}function eE(){eU("hiding disabled multiwidget options");var fa=Number(cp.get(bO)),fb=Number(cp.get(b9)),fd=Number(cp.get(T)),ff=Number(cp.get(cK)),fc=Number(cp.get(cV)),fe=Number(cp.get(dL));if(!fa||!dR||!dM){eU("hiding leadhunter option");eN()}if(!dV()||!ez){eU("hiding online chat option");em(er)}if(!fb){eU("hiding vk-messenger option");em(eh)}if(!fd){eU("hiding fb-messenger option");em(es)}if(!ff){eU("hiding telegram-messenger option");em(ej)}if(!fc){eU("hiding whatsApp-messenger option");em(eX)}if(!fe){eU("hiding Viber-messenger option");em(ek)}}function eg(){var fb=cp.getObject(f);eU("start filling pulsator");if(fb){if(ec(ef)){ef.setAttribute("style","background: "+fb.button_color+";")}if(ec(e6)){e6.setAttribute("style","fill: "+fb.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(el)){for(var fa=0;fa<el.length;fa++){el[fa].setAttribute("style","fill: "+fb.button_color+";")}}}}function eR(){var fa=cp.getObject(f);return typeof fa.position==="string"&&fa.position!==""?fa.position:"bottomRight"}function eO(){if(ec(eu)){var fa=eR();eu.setAttribute("style","top: "+e2[fa].top+";right:"+e2[fa].right+";bottom:"+e2[fa].bottom+";left:"+e2[fa].left+";");eu.style.transformOrigin=e2[fa].transformOrigin;eu.style.transform=d8()}}function ey(){if(ec(eP)){var fa=eR();var fb=fa==="topLeft"||fa==="bottomLeft"?"margin-right":"margin-left";eP.setAttribute("style",fb+": auto")}}function eT(){if(ec(eD)){var fa=eR();eD.setAttribute("style","top: "+eo[fa].top+";right:"+eo[fa].right+";bottom:"+eo[fa].bottom+";left:"+eo[fa].left+";")}}function eq(){if(ec(e4)){var fa=eR();e4.setAttribute("style","top: "+eB[fa].top+";right:"+eB[fa].right+";bottom:"+eB[fa].bottom+";left:"+eB[fa].left+";border-top-color:"+eB[fa]["border-top-color"]+";border-right-color:"+eB[fa]["border-right-color"]+";border-bottom-color:"+eB[fa]["border-bottom-color"]+";border-left-color:"+eB[fa]["border-left-color"]+";")}}function eY(){eO();ey();eT();eq()}function et(){var fb=cv.decode(cp.get(dc));if(fb){eU("appending multiwidget pulsator");var fa=L.createElement("div");fa.innerHTML=fb;eu=fa.childNodes.item(0);if(!cs.roistat.multiwidget.isVisible){eU("Hide widget");eu.className=eu.className+" "+e1}L.body.appendChild(eu);eJ();eE();eg();eY();e9()}}function eW(){al(cs,"message",function fa(fe){var fd=typeof fe.data==="string"?fe.data:fe.data.message;if(fd===eK){ez=true;eS(er)}});al(cs,"resize",function fc(){if(ec(eu)){eu.style.transform=d8()}});if(d0){al(ed,"resize",function fb(){if(ec(eu)){eu.style.transform=d8()}})}}function eZ(){b5();eW();eU("activated");et()}dW=eN;cI(eZ)},onlineChat:function(){var fd="iframe-module-created",eq="iframe_chat_successfully_loaded",eh="iframe-online-chat-opened",em="iframe-online-chat-invite-message",ff="roistat-online-chat-init",fC="roistat-online-chat-reload",fo="roistat-online-chat-update-custom-params",eD="roistat-online-chat-lead_successfully_sent",fj="roistat-online-chat-translate-form",eM="roistat-online-chat-send-lead",fr="roistat_chat_id",fB="roistat_chat_session",fe="roistat_chat_custom_position",ex,er,fs,en,es,fp,e6,eG,e5;var e0="roistat-online-chat-popup-iframe",eJ="roistat-online-chat-hidden",ft="roistat-online-chat-holder",fn="roistat-online-chat-popup-wrapper",fl="roistat-multiwidget-pulsator-phone",ei="roistat-multiwidget-pulsator-popup-item-chat",e4="roistat-online-chat-popup-wrapper-hidden",eH="roistat-online-chat-popup-mouse-track",eZ="roistat-online-chat-popup-mouse-track-active",eL="roistat-online-chat-pulsator-fill",fq="roistat-online-chat-pulsator-img",eT="roistat-online-chat-pulsator-phone",eB="roistat-online-chat-pulsator-fill-svg",e3="roistat-online-chat-popup-spacer",ew=".roistat-multiwidget-pulsator-items-popup",eu=".roistat-online-chat-pulsator-phone",eX=".roistat-online-chat-popup-wrapper";var eI=false,eK=false,e8=0,ek=0;var e1=".roistat-online-chat-holder";
var eS="roistat-online-chat-holder-hidden";if(dZ()){e1=".roistat-multiwidget-pulsator-holder";eS="roistat-multiwidget-pulsator-holder-hidden"}var fw;var fA={topLeft:{bottom:"unset",right:"unset",top:dF()?0:"20px",left:dF()?0:"35px"},topRight:{bottom:"unset",right:dF()?0:"35px",top:dF()?0:"20px",left:"unset"},bottomRight:{bottom:dF()?0:"20px",right:dF()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:dF()?0:"20px",right:"unset",top:"unset",left:dF()?0:"35px"}};var e2={topLeft:{top:dF()?"90px":"130px",right:"unset",bottom:"unset",left:dF()?"3%":"65px"},topRight:{top:dF()?"90px":"130px",right:dF()?"3%":"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:dF()?"3%":"65px",bottom:dF()?"90px":"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:dF()?"90px":"130px",left:dF()?"3%":"65px"}};var fu={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var fc=function(fE){A("onlineChat: "+fE)};var eC=function(){function fE(){return Math.random().toString(36).substr(2,8)}return fE()+fE()+fE()+fE()};var et=function(){var fE=cp.get(fB);if(!fE){fE=eC();cp.set(fB,fE)}return fE};var ej=function(){var fE={message:fd,detail:{version:aa,language:t,projectKey:bc(),visitId:cJ(),firstVisit:cp.get(a4),chatId:j(fr),moduleTargetOrigin:cs.location.origin,referrer:cs.location.href,params:d6,sessionUniqueKey:et()}};fp.contentWindow.postMessage(fE,fp.src)};var ey=function(){var fE={message:eh,detail:{isOpened:fv()}};fp.contentWindow.postMessage(fE,fp.src)};var eA=function(){var fE={message:fo,detail:{params:d6}};fp.contentWindow.postMessage(fE,fp.src)};var ef=function(){var fE={language:t,message:fj};fp.contentWindow.postMessage(fE,fp.src)};var fk=function(){al(cs,"message",function fE(fH){var fG=typeof fH.data==="string"?fH.data:fH.data.message;var fF=typeof fH.data!=="string"?fH.data.detail:{};fc("event: "+fG+" "+JSON.stringify(fF));switch(fG){case eq:fm();cs.setRoistatOnlineChatCustomParams=eP;eP(d6);break;case fd:ej();break;case ff:fc("saving chat id = "+fF.chatId);dw(fr,fF.chatId,{path:"/"});break;case em:fc("rendering invite message");fg(fF.message);break;case eM:fc("sending lead");ez(fF.leadData)}})};var eO=function(){var fF=cs.roistat.onlineChat.notificationsCustomHolderSelector;var fE=fF!==null;return L.querySelector(fE?fF:e1)};var ez=function(fE){cs.roistatGoal.reach(fE,function(){fp.contentWindow.postMessage(eD,fp.src)})};var fg=function(fL){if(fv()){return}var fG="<div class='roistat-online-chat-message'><img src='"+fL.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+fL.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+fL.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var fK=L.createElement("div");fK.innerHTML=fG;var fJ=eO();if(ec(fJ)){var fM=e7()?"beforeend":"afterbegin";fJ.insertAdjacentHTML(fM,fG);var fI=fJ.getElementsByClassName("roistat-online-chat-message-close");var fE=fJ.getElementsByClassName("roistat-online-chat-message");var fH=fI[e7()?fI.length-1:0];var fF=fE[e7()?fI.length-1:0]}setTimeout(function(){fF.remove()},15000);eb(fF,"click",function(fN){fN.stopPropagation();if(!fv()){fi()}fx()});eb(fH,"click",function(fN){fN.stopPropagation();fF.remove()})};var fx=function(){var fF=eO();if(ec(fF)){var fE=fF.getElementsByClassName("roistat-online-chat-message");while(fE.length>0){fE[0].remove()}}};var fz=function(){fp=L.getElementById(e0);if(ec(fp)){eb(fp,"load",function(){eY()})}eb(L,"click",function(fJ){var fI=cs.roistat.onlineChat.customTriggerSelector;if(dZ()){var fK=d3(L,fl);var fH=d3(L,ei);var fG=fv()&&fJ.target!==fH&&!fH.contains(fJ.target);if(fG){dS(fK,"opened",false)}}else{var fE=d3(L,ft);var fF=fv()&&fJ.target!==fE&&!fE.contains(fJ.target);if(fF){dS(fE,"opened",false)}}if(fv()&&(fJ.target.closest(ew)===null&&fJ.target.closest(eX)===null&&fJ.target.closest(eu)===null&&(fI?fJ.target.closest(fI)===null:true))){fi()}})};var eg=function(fG){var fF=fs.getBoundingClientRect().x;var fE=fs.getBoundingClientRect().y;eK=true;el();e8=fG.pageX-fF;if(e7()){ek=fG.pageY+fE}else{ek=fG.pageY-fE}};var eR=function(){eK=false;fh();eE()};var el=function(){if(ec(er)){er.classList.add(eZ)}};var fh=function(){if(ec(er)){er.classList.remove(eZ)}};var e9=function(fM){if(eK&&ec(fs)){var fE=fs.getBoundingClientRect();var fL=fE.width;var fK=400;var fF=50;var fP=0;var fH=cs.innerHeight-fK;var fN=fM.pageX-e8;var fJ=fF;var fG=cs.innerWidth-fF-fL;if(e7()){fP=cs.innerHeight-(fM.pageY+fE.y)-20}else{fP=fM.pageY-ek}var fO=fy();var fI=fO==="bottomLeft"||fO==="bottomRight"?"top":"bottom";if(fN>=fJ&&fN<=fG){fs.style.left=fN+"px";if(!fD()){fs.style.right="unset"}}if(fP>=50&&fP<=fH){fs.style[fI]=fP+"px"
}}};var eE=function(){var fE={position:fy(),top:fs.style.top,left:fs.style.left,bottom:fs.style.bottom,right:fs.style.right};cp.setObject(fe,fE)};var fy=function(){var fE=cp.getObject(f);var fF=typeof fE.position==="string"&&fE.position!=="";return fF?fE.position:"bottomRight"};var e7=function(){var fE=fy();return fE==="topLeft"||fE==="topRight"};var fD=function(){var fE=fy();return fE==="topLeft"||fE==="bottomLeft"};var eF=function(fF){var fE=Math.max(fF*ee(),fF)+"px";en.style.height=fE;en.style.marginBottom="-"+fF+"px"};var ep=function(){var fI=fy();var fK=cs.roistat.onlineChat.customPosition;var fM=fK&&fK.top!==null?fK.top:e2[fI].top;var fG=fK&&fK.right!==null?fK.right:e2[fI].right;var fE=fK&&fK.bottom!==null?fK.bottom:e2[fI].bottom;var fH=fK&&fK.left!==null?fK.left:e2[fI].left;fs=d3(ex,fn);if(ec(fs)){fs.classList.add(e4);fs.setAttribute("style","visibility: hidden;top: "+fM+";right:"+fG+";bottom:"+fE+";left:"+fH+";");en=d3(ex,e3);if(ec(en)){var fL=parseInt(fM==="unset"?fE:fM);eF(fL);cs.addEventListener("resize",function fF(){eF(fL)});if(d0){ed.addEventListener("resize",function fJ(){eF(fL)})}}}};var eQ=function(){if(ec(er)){var fE=fy();er.setAttribute("style","top: "+fu[fE].top+";bottom:"+fu[fE].bottom+";height:"+fu[fE].height+";")}};var eN=function(){if(ec(fw)){var fE=fy();fw.setAttribute("style","top: "+fA[fE].top+";right:"+fA[fE].right+";bottom:"+fA[fE].bottom+";left:"+fA[fE].left+";")}};var eV=function(){fc("iframe appending to page");var fE=cv.decode(cp.get(D));ex=L.createElement("div");ex.innerHTML=fE;L.body.appendChild(ex);er=d3(L,eH);ep();fz()};var eW=function(){var fF=cp.getObject(f);fc("start filling pulsator");if(fF){if(ec(e6)){e6.setAttribute("style","background: "+fF.button_color+";")}if(ec(eG)){eG.setAttribute("style","fill: "+fF.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(e5)){for(var fE=0;fE<e5.length;fE++){e5[fE].setAttribute("style","fill: "+fF.button_color+";")}}}};var fm=function(){var fF=cv.decode(cp.get(by));var fH=!cT()&&cs.roistatOnlineChatOnly;var fG=(fF&&!dZ()&&dV())||fH;if(fG){fc("pulsator appending to page");var fE=L.createElement("div");fE.innerHTML=fF;fw=fE.childNodes.item(0);if(!cs.roistat.multiwidget.isVisible){fc("Hide widget");fw.className=fw.className+" "+eS}e6=d3(fw,eL);eG=d3(fw,fq);es=d3(fw,eT);e5=L.getElementsByClassName(eB);L.body.appendChild(fw);eN();ev();eW()}};var ev=function(){if(ec(fw)){eb(fw,"click",function(){fi();eo(fw)})}};function eo(fE){if(ec(fE)){fE.classList.toggle("opened")}}var fv=function(){return ec(fs)&&!fs.classList.contains(e4)};var fi=function(){setTimeout(function(){eK=false},3000);if(ec(fs)){fs.classList.toggle(e4)}if(fv()){fx()}ey()};var fb=function(){var fE=eO();if(ec(fE)){fE.classList.toggle(eS)}};var eU=function(fE){t=fE;if(!ec(fp)){return}ef()};var eY=function(){eI=true;cs.roistatOnlineChatShow=fi;cs.roistatMultiwidgetShow=fb;fc("chat window initialized")};function eP(fE){dN(fE);eA()}function fa(){b5();eV();fk()}cs.roistat.onlineChat.localization.translateToRussian=function(){eU(cm)};cs.roistat.onlineChat.localization.translateToEnglish=function(){eU(aB)};cs.roistat.onlineChat.localization.translate=function(fH){var fG=cC[cm].includes(fH),fF=cC[aB].includes(fH),fE=fH;if(fG){fE=cm}if(fF){fE=aB}eU(fE)};cI(fa)}};function d2(ef){A("Widgets: "+ef)}function e(ef){return ef!==ea}function dN(eh){var eg=Object.keys(eh);for(var ef=0;ef<eg.length;ef++){d6[eg[ef]]=eh[eg[ef]]}}function dZ(){var en=Number(cp.get(bO)),eg=en&&dR&&dM,er=Number(cp.get(bj)),ej=dV(),eo=Number(cp.get(b9)),ek=Number(cp.get(T)),ef=Number(cp.get(cK)),ei=Number(cp.get(cV)),eq=Number(cp.get(dL)),ep=eg||ej||eo||ek||ef||ei||eq,eh=eg&&!ej&&!eo&&!ek&&!ef&&!ei&&!eq,em=ej&&!eg&&!eo&&!ek&&!ef&&!ei&&!eq,es=!cT()&&cs.roistatOnlineChatOnly,el=cT()&&dz();A("Is online chat only: "+es);A("Is rp: "+es);return er&&ep&&!em&&!eh&&!es&&!el}function dV(){var ef=Number(cp.get(cW));if(!ef){A("OnlineChat: Online chat is disabled");return false}var eg=cp.getObject(C);if(!eg.is_available_for_current_user_agent){A("OnlineChat: Current device group is disabled");return false}if(!eg.pages_filter.is_enabled){A("OnlineChat: Pages filter is disabled");return true}return bR(eg.pages_filter.pages.join(","))}function dW(){d2("Multiwidget disabled. Hide leadhunter pulsator from module")}function dP(ef,eh,eg){cp.set(b7,cv.encode(ef));cp.set(bC,cv.encode(eh));cp.setObject(b6,eg)}function dU(eg,ef){cp.set(dc,cv.encode(eg));cp.setObject(f,ef)}function dT(eh,ef,eg){cp.set(by,cv.encode(eh));cp.set(D,cv.encode(ef));cp.set(cW,eg)}function dY(ef,eh,eg){dP(ef,eh,eg);cp.set(dc,cv.encode(ea));cp.set(D,cv.encode(ea));d1=false;d7.leadHunter()}function dO(eq,em,ek){var eh=eq.form_template,er=eq.pulsator_template,ej=eq.pulsator_settings;if(dz()){dY(eh,er,ej);return}d2("start initing widgets");var en=ek.pulsator_template,ei=ek.iframe_template,ep=em.pulsator_template,ef=em.pulsator_settings,el=Number(cp.get(bO)),eg=Number(ek.settings.is_enabled),eo=cp.getObject(s)!==null;dP(eh,er,ej);dU(ep,ef);dT(en,ei,eg);if(eo){cp.set(b7,cv.encode(dQ()))
}d1=true;if(el&&!aP()){d2("leadhunter enabled. Start processing");d7.leadHunter()}if(dV()){d2("online chat enabled. Start processing");d7.onlineChat()}if(dZ()){d2("multiwidget enabled. Start processing");d7.multiwidget()}}var dQ=function(){var ef=bh()+"//"+x+"/api/site/1.0/"+bc()+"/leadhunter/script/"+cp.get(a2)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+ef+'" frameborder="0"></iframe></div>'};function d9(){var eh=cp.get(b7),es=cp.get(bC),ej=cp.getObject(b6),em=Number(cp.get(bO)),en=cp.get(by),ei=cp.get(D),eg=cp.get(cW),ep=cp.get(dc),ef=cp.getObject(f);cs.roistatLeadhunterForm=dY;cs.roistatMultiwidget=dO;if(!eh||!es||!ej||!ep||!ef||!en){d2("requesting data from server");if(dZ()||dV()||em){a3(bh()+"//"+x+"/api/site/"+an+"/"+bc()+"/multiwidget?domain="+encodeURIComponent(L.domain))}}else{var er=cv.decode(ep);var eo=cv.decode(ei);if((!e(er)||!e(eo)||dz())&&!aP()){d2("initing LeadHunter form");cs.roistatLeadhunterForm(cv.decode(eh),cv.decode(es),ej)}else{d2("initing multiwidget form");var ek={pulsator_template:er,pulsator_settings:ef},el={form_template:cv.decode(eh),pulsator_template:cv.decode(es),pulsator_settings:ej},eq={iframe_template:eo,pulsator_template:cv.decode(en),settings:{is_enabled:Number(eg)}};cs.roistatMultiwidget(el,ek,eq)}}}function dX(){d9();d2("Widgets: form initialized")}function d5(){d2("activated");dX()}cI(d5);cs.setRoistatOnlineChatCustomParams=dN;cs.roistatSaveLeadHunterTemplates=dP;cs.roistatSaveMultiwidgetTemplate=dU;cs.roistatSaveOnlineChatTemplate=dT})();(function u(){var dY=function(){return j(dD)};var dW=function(){return cp.get(br)};var dP=function(){return cp.get(bE)};var d2=function(d4){return d4!=null&&d4!==bN&&d4!==""};var d1=function(){var d4=[];var d5=L.getElementsByClassName(aw);if(d5&&d5.length){d4=d5}return d4};var dN=function(){var d4=[];var d5=L.getElementsByClassName(J);if(d5&&d5.length){d4=d5}return d4};var dM=function(){var d4=[];var d5=L.getElementsByClassName(ap);if(d5&&d5.length){d4=d5}return d4};var dR=function(){var d4=[];var d5=L.getElementsByClassName(N);if(d5&&d5.length){d4=d5}return d4};var dU=function(){var d4=[];var d5=L.getElementsByClassName(dv);if(d5&&d5.length){d4=d5}return d4};var e=function(eh,d5){A("CallTracking: RenderPhone phone = "+eh);var ea=function(ej){return ej.split(/[^0-9]/).join("")};var eb=function(em,eo){var er=null;if(!em){return er}var ej=eo.split(",");if(ej.length<2){er=eo}else{var ek=em.getAttribute("data-prefix");if(ek){for(var en=0;en<ej.length;en++){var ep=ej[en];var eq=ea(ep);if(eq.indexOf("8")===0){eq="7"+eq.substring(1)}var el=eq.split(ek)[0]==="";if(el){er=ep;break}}}if(er===null){er=ej[0]}A("CallTracking._getPhoneForElement: Prepared phone = "+er+" for data-prefix = "+ek)}return er};var d8=function(en,el){var ej=eb(en,el);if(!ej||!en){return}if(en.tagName.toLowerCase()!=="a"){return}var em=en.getAttribute("href");if(df(em,"tel:")){var ek=ea(ej);if(ek.indexOf("8")===0){ek="7"+ek.substring(1)}en.setAttribute("href","tel:+"+ek);d9(en,ej)}};var d9=function(ek,ej){if(!ek.hasAttribute("title")){return}ek.setAttribute("title",ej)};var ed=function(el,ek){var ej=eb(el,ek);if(!ej||!el){return}el.innerHTML=ej};var ei=function(ej){var ek=d1();A("CallTracking: render phone default classes for "+ek.length+" elements");r(ek,function(el){ed(el,ej);d8(el,ej)});r(dN(),function(em){var el=ea(eb(em,ej)).slice(0,1);ed(em,el)});r(dM(),function(em){var en=eb(em,ej).match(/\((.*)\)/);if(en!==null){var el=en[1];ed(em,el)}});r(dR(),function(en){var el=eb(en,ej).match(/\)(.*)/);if(el!==null){var eo=ea(el[1]);var em=eo.slice(-1*eo.length,-4)+"-"+eo.slice(-4,-2)+"-"+eo.slice(-2);ed(en,em)}});r(dU(),function(el){d8(el,ej)})};var eg=function(ej,eo){if(!eo){return}A("CallTracking: render phone user replacement for "+eo.length+" replacements");for(var en=0;en<eo.length;en++){var eq=eo[en];if(!eq){continue}var el=eq[0];eq=eq.substr(1);var ep=[];if(el==="#"){var em=L.getElementById(eq);if(em!==null){ep.push(em)}}else{ep=L.getElementsByClassName(eq);d7(eq,ej)}if(!ep||ep.length<1){continue}A("CallTracking: render phone for "+eq+", "+ep.length+" elements");for(var ek=0;ek<ep.length;ek++){ed(ep[ek],ej);d8(ep[ek],ej)}}};var ec=function(ej){for(var ek=0;ek<ej.length;ek++){eg(ej[ek].phone,ej[ek].css_selectors);ef(ej[ek].phone,ej[ek].replaceable_numbers)}};var ef=function(el,ek){if(!ek||ek.length===0){return}var ej=function(){var ew=ep();var ev=L.getElementsByTagName("*");var eq=ev.length;for(var eu=0;eu<eq;eu++){var ex=ev[eu];em(ex,ew,eb(ex,el));var et=ex.childNodes.length;for(var er=0;er<et;er++){var es=ex.childNodes[er];eo(es,ew,eb(es,el))}}};var em=function(eu,et,eq){if(!en(eu)){return}var ev=eu.getAttribute("href").replace("tel:","");var es=et.length;for(var er=0;er<es;er++){if(et[er].test(ev)){d8(eu,eb(eu,eq))}}};var en=function(er){if(er.tagName.toLowerCase()!=="a"){return false}var eq=er.getAttribute("href");return a7(eq)&&eq.indexOf("tel:")===0};var ep=function(){var es=[];
for(var eq=0;eq<ek.length;eq++){var er="[\\s()[\\]{}\\-+.]*";var et=ek[eq].split("").join(er);es.push(new RegExp("[+(]?"+et,"g"))}return es};var eo=function(et,es,eq){if(et.nodeType!==Node.TEXT_NODE){return}for(var er=0;er<es.length;er++){if(et.textContent&&es[er].test(et.textContent)){et.textContent=et.textContent.replace(es[er],eq)}else{if(et.innerText&&es[er].test(et.innerText)){et.innerText=et.innerText.replace(es[er],eq)}}}};ej()};var d7=function(ek,ej){r(d6(ek+"-"+bW),function(em){var el=ea(eb(em,ej)).slice(0,1);ed(em,el)});r(d6(ek+"-"+aV),function(em){var en=eb(em,ej).match(/\((.*)\)/);if(en!==null){var el=en[1];ed(em,el)}});r(d6(ek+"-"+bq),function(en){var el=eb(en,ej).match(/\)(.*)/);if(el!==null){var eo=ea(el[1]);var em=eo.slice(-1*eo.length,-4)+"-"+eo.slice(-4,-2)+"-"+eo.slice(-2);ed(en,em)}});r(d6(ek+"-"+cd),function(el){d8(el,ej)})};var d6=function(ek){var ej=[];var el=L.getElementsByClassName(ek);if(el&&el.length){ej=el}return ej};var ee=function ee(){var ek=dP();if(ek){ek=ek.split("\n");for(var ej=0;ej<ek.length;ej++){ek[ej]="."+ek[ej]}}if(d5 instanceof Array){ec(d5)}else{ei(eh);eg(eh,ek)}};(function d4(){ee();var ej=[300,5000,15000];ej.forEach(function(ek){setTimeout(ee,ek)})})()};var dO=function(d4){cp.save(o,d4,c3)};var dX=function(){if(cs.roistat.callTracking.phone){var d4={expires:parseInt(cs.roistat.callTracking.sessionTime),path:"/"};if(c3.domain){d4.domain=c3.domain}dw(dD,cs.roistat.callTracking.phone,d4);dO(1);cp.save(bE,cs.roistat.callTracking.replacementClasses,c3);cp.save(br,cs.roistat.callTracking.phoneScriptsJson,c3)}};var dV=function(d5,d9,d7,d6){A("CallTracking: reuse phone "+d5+" for time "+d9+" and replacements "+d7);var d4='script[data-roistat-script-id="'+Y+'"]';L.querySelectorAll(d4).forEach(function(ec,eb){if(eb===0){return}ec.remove()});A("CallTracking: all old scripts removed");if(!d2(d5)){A("CallTracking: new phone is invalid");roistat.callTracking.phone=null;di();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=d5;roistat.callTracking.sessionTime=d9;roistat.callTracking.replacementClasses=d7;roistat.callTracking.phoneScriptsJson=d6;di();dX();var ea={expires:parseInt(d9),path:"/"};if(c3.domain){ea.domain=c3.domain}dw(dD,d5,ea);cp.save(br,d6,c3);cp.save(bE,d7,c3);var d8=dn(d6);if(d8==null){e(d5)}else{e(d5,d8)}};var dQ=function(){A("CallTracking: request new phone");var d4=j(ci);var d8=ar();var d7=d8?d8:bF;var d6=encodeURIComponent(cG);var d5=R()+"/get-phone?visit="+d4+"&marker="+(d7?d7:"")+"&prefix="+cQ+"&prefix_bind="+dE+"&phone_scripts_bind="+V+"&page="+d6;a3(d5,Y)};var dS=function(){cQ=cs.roistatPhonePrefix?cs.roistatPhonePrefix:"";dE=cs.roistatPhonePrefixBind?cs.roistatPhonePrefixBind:"";V=cs.roistatCalltrackingScripts&&cs.roistatCalltrackingScripts.join?cs.roistatCalltrackingScripts.join(","):"";A("CallTracking: refresh phone with prefix: "+cQ+", binding: "+dE+", scripts: "+V);dQ()};var d3=function(){var d4=cp.get(o)>0;var d5=b8.callTrackingEnabled;return d4&&d5};var dT=function(d4){dO(d4.is_enabled)};var d0=function d0(){var d4=dY();if(!d2(d4)){A("CallTracking: invalid phone "+d4+", requesting a new one");dQ()}else{A("CallTracking: render phone "+d4);var d5=dn(dW());if(d5==null){e(d4)}else{e(d4,d5)}}};var dZ=function(){A("CallTracking: init");if(aP()){A("CallTracking: Shut down because only online chat need to be inited");return}dX();if(!d3()){A("CallTracking: disabled, skip");return}if(b8.callTrackingManual){A("CallTracking: init finish because off manual");return}d0();aC(d0)};cs.roistatCallTrackingRefresh=dS;cs.roistatRequestNewPhone=dQ;cs.roistatReusePhone=dV;cs.roistatCalltrackingUpdateSettings=dT;cI(dZ)})();(function F(){var dN=function(dT){A("Emailtracking: "+dT)};var dR=function(dT,dV,dU){cp.save(bD,dT,c3);cp.save(b,dV,c3);cp.save(bS,JSON.stringify(dU),c3)};var dM=function(){var dT=(cs.roistat.emailtracking.email&&cs.roistat.emailtracking.trackingEmail)||aW(cs.roistat.emailtracking.emails);if(cs.roistat.emailtracking.loaded&&dT){dN("save loaded email: "+cs.roistat.emailtracking.email);dR(cs.roistat.emailtracking.email,cs.roistat.emailtracking.trackingEmail,cs.roistat.emailtracking.emails)}else{dN("settings save skip, because not loaded");cs.roistat.emailtracking.email=cp.get(bD);cs.roistat.emailtracking.email=cs.roistat.emailtracking.email?cs.roistat.emailtracking.email:null;cs.roistat.emailtracking.email=cs.roistat.emailtracking.email==="null"?null:cs.roistat.emailtracking.email;dN("email loaded from storage: "+cs.roistat.emailtracking.email);cs.roistat.emailtracking.trackingEmail=cp.get(b);cs.roistat.emailtracking.trackingEmail=cs.roistat.emailtracking.trackingEmail?cs.roistat.emailtracking.trackingEmail:null;cs.roistat.emailtracking.trackingEmail=cs.roistat.emailtracking.trackingEmail==="null"?null:cs.roistat.emailtracking.trackingEmail;dN("tracking email loaded from storage: "+cs.roistat.emailtracking.trackingEmail);cs.roistat.emailtracking.emails=dn(cp.get(bS));cs.roistat.emailtracking.emails=cs.roistat.emailtracking.emails?cs.roistat.emailtracking.emails:null;
dN("emails loaded from storage: "+JSON.stringify(cs.roistat.emailtracking.emails))}};var dP=function(dT){dR(dT.email,dT.trackingEmail,dT.emails)};var dO=function(){var dT=(!!cs.roistat.emailtracking.email&&!!cs.roistat.emailtracking.trackingEmail)||aW(cs.roistat.emailtracking.emails);return cs.roistat.emailtracking.enabled&&dT};var e=function(){if(!dO()){dN("emailtracking disabled, skip swapping");return}var dU=function(dZ,d0,dY){if(dZ.href){var dX=aJ(dZ.href);if(d0.test(dX)){dZ.href=dX.replace(d0,dY);return true}}if(dZ.nodeType!==3){return false}if(dZ.textContent&&d0.test(dZ.textContent)){dZ.textContent=dZ.textContent.replace(d0,dY);return true}else{if(dZ.innerText&&d0.test(dZ.innerText)){dZ.innerText=dZ.innerText.replace(d0,dY);return true}}return false};var dT=function(dX){return dX.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var dV=function(dZ,dY){var dX=!dY.match(/[a-z]/);return dX?dZ.toUpperCase():dZ};var dW=function(d5,d7){var d8=dT(d5);var dZ=new RegExp("(^|\\s)(mailto:)?("+d8+")($|\\s|\\?)","gi");var d9=function(ee,ec,ea,eb,ed){ea=ea||"";return ec+ea+dV(d7,eb)+ed};dN("starting to replace email "+d5+" to "+d7+" with regexp "+dZ);var dY=L.getElementsByTagName("*");var d1=dY.length;dN("found "+d1+" nodes on page");var d4=0;for(var d3=0;d3<d1;d3++){var d0=dY[d3];var d6=d0.childNodes.length;if(d6>0){for(var d2=0;d2<d6;d2++){var dX=d0.childNodes[d2];if(dU(dX,dZ,d9)){d4++}}}if(dU(d0,dZ,d9)){d4++}}dN("successfully replaced "+d4+" nodes")};if(cs.roistat.emailtracking.emails){bu(cs.roistat.emailtracking.emails,dW)}else{dW(cs.roistat.emailtracking.email,cs.roistat.emailtracking.trackingEmail)}};var dQ=function(){dN("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var dS=function(){dN("init");if(aP()){dN("Shut down because only online chat need to be inited");return}aC(dQ);dM();dQ()};cs.roistatEmailtrackingUpdateSettings=dP;cs.roistat.emailtracking.refresh=e;cI(dS)})();(function bw(){var dO=function(dQ){A("MultiDomain: "+dQ)};var dN=function(){return cp.get(c5)>0};var dM=function(dU){var dV=function(dX){if(!dX){return false}if(df(dX,"roistat_visit")){return false}var dW=bg(dX);var dZ=bg(L.domain);var dY=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return dW!==dZ&&dY.test(dX)};var dT=function(dZ){var d0=dZ.split("#");var dY=d0[0].split("?");var dW="";var dX="";if(dY.length===2){dW=dY[1]}if(dW){dX="&"}dW=dW+dX+"roistat_visit="+roistat.getVisit();dY[1]=dW;d0[0]=dY.join("?");return d0.join("#")};if(dU.tagName.toLowerCase()!=="a"){return}var dS=dU.getAttribute("href");var dR=false;if(dV(dS)){var dQ=dT(dS);dO("update url "+dS+" > "+dQ);dU.setAttribute("href",dQ);dR=true}return dR};var e=function(){if(!dN()){dO("disabled, skip");return}var dQ=L.getElementsByTagName("a");var dR=dQ.length;dO("found "+dR+" <a> nodes on page");var dU=0;for(var dS=0;dS<dR;dS++){var dT=dQ[dS];if(dM(dT)){dU++}}dO("replaced "+dU+" nodes")};var dP=function(){dO("init");if(aP()){dO("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cI(dP)})();(function de(){var e=60*1000;var dS=2*60*1000;var dM=function(dU){A("SettingsUpdater: "+dU)};var dQ=function(){cp.set(ae,cw())};var dR=function(){var dV=dk();var dU=!(dV>0);dM("is first update check: lastUpdateTime="+dV+", result="+(dU?1:0));return dU};var dT=function(){var dW=cw()-dS;var dV=dk();var dU=dV<=dW;dM("expiration check: _minTime="+dW+", lastUpdateTime="+dV+", result="+(dU?1:0));return dU};var dN=function(dV){var dU=j(ci);a(dU,dV)};var dO=function(dV){dM("update settings and save last update time");var dU=cp.getObject(s)!==null;if(dU){cp.set(s,dV.js_settings.leadHunterTargetPagesMap)}cs.roistatCalltrackingUpdateSettings(dV.calltracking);cs.roistatEmailtrackingUpdateSettings(dV.emailtracking);cs.roistatSaveLeadHunterTemplates(dV.leadhunter_templates.form_template,dV.leadhunter_templates.pulsator_template,dV.leadhunter_templates.pulsator_settings);cs.roistatSaveMultiwidgetTemplate(dV.multiwidget_templates.pulsator_template,dV.multiwidget.pulsator_settings);cs.roistatSaveOnlineChatTemplate(dV.online_chat_templates.pulsator_template,dV.online_chat_templates.iframe_template);cs.roistatSaveProxyFormSettings(dV.proxy_forms);bk(dV.js_settings);c4(dV.multiwidget.multiwidget_settings);ct(dV.online_chat);w(dV.geo);cE(dV.promo_code);ck.isSettingsUpdating=false;dQ()};var dP=function(){dM("init");if(dR()){dM("in first update we just start first timer and skip");dQ();return}if(!dT()){dM("update is not not expired, skip");return}dM("start to update settings");dN()};cI(function(){cs.roistatUpdateSettings=dO;setTimeout(function(){dP()},3000);dM("set interval to update settings");setInterval(function(){dP()},e)})})();(function b1(dP,e,dR){var dO={};var dM=function(dT){var dS=encodeURIComponent?encodeURIComponent:encodeURI;return dS(dT)};var dN=function(dZ,dT){A("Reach goal start");if(!dZ){dZ={}
}var dW={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cJ(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var dV in dW){if(!Object.prototype.hasOwnProperty.call(dW,dV)){continue}if(!Object.prototype.hasOwnProperty.call(dZ,dV)){continue}if(!dZ[dV]){continue}if(dV==="fields"||dV==="client_fields"||dV==="items"||dV==="placeholders_data"){dZ[dV]=JSON.stringify(dZ[dV])}dW[dV]=dM(dZ[dV])}var dY=bc();var dX=bh()+"//"+x+"/api/site/"+an+"/"+dY+"/reach-goal?v=2";for(var dU in dW){if(!Object.prototype.hasOwnProperty.call(dW,dU)){continue}dX=dX+"&"+dU+"="+dW[dU]}if(dT!==dR){var dS=Math.random().toString();dO[dS]=dT;dX+="&callback_key="+dS}a3(dX);A("Reach goal completed")};var dQ=dP.roistatGoal={reach:function(dT,dS){dN(dT,dS)},callAfterReachCallback:function(dS){if(Object.prototype.hasOwnProperty.call(dO,dS)){dO[dS]();delete dO[dS]}}}})(cs,L,bN);(function dy(dN,e,dO){var dM=function(dT){if(dT instanceof Array||dT===null||typeof dT!=="object"){A("Invalid event data");return""}var dQ=[];for(var dS in dT){if(Object.prototype.hasOwnProperty.call(dT,dS)){var dR=dT[dS];if(typeof dR==="string"||typeof dR==="number"){dQ.push("data["+encodeURIComponent(dS)+"]="+encodeURIComponent(dR))}else{A("Event data property ignored: "+dS)}}}return dQ.length>0?"&"+dQ.join("&"):""};var dP=function(dS,dT){A("Send event start");var dQ=p();var dR=R()+"/event/register?visit="+dQ+"&event="+dS+dM(dT);a3(dR);A("Send event completed")};dN.roistat.event={send:function(dQ,dR){dP(dQ,dR)}}})(cs,L,bN);(function cq(dV,dX,dO){if(aP()){A("VisitApprove: Shut down because only online chat need to be inited");return}var dY=dV.roistatIsInitVisit===true?20000:10000;var dN=(new Date()).getTime();var dM=function(d2){return"approve_visit_"+d2};var dU=function(d2){cf.set(dM(d2),1)};var dZ=function(d2){return cf.get(dM(d2))>0};var e,dQ,d1=[];if(dX.addEventListener){e=function(d3,d2,d4){return d3.addEventListener(d2,d4,false)};dQ=function(d3,d2,d4){return d3.removeEventListener(d2,d4,false)}}else{e=function(d3,d2,d4){return d3.attachEvent("on"+d2,d4)};dQ=function(d3,d2,d4){return d3.detachEvent("on"+d2,d4)}}var dT=function(d5){if(d1.length>30){return}d5=d5||dV.event;if(!d5||!d5.screenX){return}var d4=(new Date()).getTime();var d7,d6=null;if(d1.length>0){d6=d1[d1.length-1]}if(d6){d7=d4-d6.time}else{d7=d4-dN}if(d7<300){return}d7=d7-300;var d9=0;var d2=d5.screenX;var d8=d5.screenY;if(d6){d9=parseInt(Math.sqrt(Math.pow(d6.y-d8,2)+Math.pow(d6.x-d2,2)))}var d3={time:d4,pauseBeforeMove:d7,x:d2,y:d8,distance:d9};d1.push(d3)};var dS=function(){var d2=[];r(d1,function(d3){var d4=[d3.pauseBeforeMove,d3.distance];d2.push(d4.join(":"))});if(d2.length===0){d2.push("0:0")}return d2.join("|")};var dP=function(){for(var d2 in dV){if(df(d2,"yaCounter")){return true}}return false};var dW=function(){dQ(dX,"mousemove",dT);var d2=p();A("VisitApprove: start for visit "+d2);if(dZ(d2)){A("VisitApprove: visit already approved, skip");return}dU(d2);aF();var d3=R()+"/approve?v="+aa+"&visit="+d2;if(d0()){d3+="&hash="+ax()}if(dR()){d3+="&page_params="+encodeURIComponent(JSON.stringify(dV.roistat.page.params));g()}d3+="&mv="+dS();d3+="&pl="+(dV.navigator?dV.navigator.platform:"");d3+="&ym="+(dP()?"1":"0");a3(d3)};var d0=function(){var d6=ck.cookies,d5=n();var d8=bn();for(var d3=0;d3<d8.length;d3++){var d7=d8[d3];var d9=Object.prototype.hasOwnProperty.call(d6,d7)?d6[d7]:dO;var d2=Object.prototype.hasOwnProperty.call(d5,d7)?d5[d7]:dO;var d4=typeof d2==="string"&&d2.length>0;if(d4&&d9!==d2){return true}}return false};var dR=function(){var d7=ck.pageParams,d4=dV.roistat.page.params;for(var d3=0;d3<cR.length;d3++){var d2=cR[d3];var d5=Object.prototype.hasOwnProperty.call(d7,d2)?d7[d2]:null;var d6=Object.prototype.hasOwnProperty.call(d4,d2)?d4[d2]:null;if(d6!==d5){return true}}return false};setTimeout(function(){dW()},dY);e(dX,"mousemove",dT)})(cs,L,bN);(function aD(dQ,dR,dM){var dO=function(){return ad("roistat_ab_demo")==="1"};var dS=function(dV){return new RegExp(dV.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var dP=function(d0){var dV=dQ.location.href,dY=d0.filter,d4=d0.filterValue;var d1;switch(dY){case"except":case"pages":var dW,d3,d2=false;d3=dV?aR(dV):"";d1=d4?d4.split("\n"):[];if(d3&&d1.length!==0){for(var dX=0;dX<d1.length;dX++){var dZ=d1[dX].trim();if(dZ.length===0){continue}dW=dS(dZ);if(dW.test(d3)){d2=true;break}}}return(dY==="pages")?d2:!d2;break;case"all":default:return true}};var e=function(dX){var dV=dR.getElementsByTagName("head")[0],dW;dW=dR.createElement("style");dW.setAttribute("type","text/css");if(dW.styleSheet){dW.styleSheet.cssText=dX.value}else{dW.innerText=dX.value}dV.appendChild(dW)};var dN=function(dV){if(dP(dV)){switch(dV.type){case"css":e(dV);break}}};dQ.applyTests=function(){var dV=cp.getObject("abTesting");var dX,dW;for(dX in dV){if(!Object.prototype.hasOwnProperty.call(dV,dX)){continue}dW=dV[dX];dN(dW)}};var dT=function(){A("Call: apply demo AB test");
var dV=ad("roistat_ab_data");var dW;if(dV===null){return}else{dW=JSON.parse(cv.decode(dV))}if(typeof dW!=="object"){A("Error: testValue is not an object.");return}dN(dW)};function dU(){if(aP()){A("ABTest: Shut down because only online chat need to be inited");return}var dV=dO();if(!da&&!dV){applyTests()}if(dV){dT()}}dU()})(cs,L,bN);(function cO(dM,e,dN){if(aP()){A("visitStream: Shut down because only online chat need to be inited");return}if(!dd){return}setTimeout(function(){(function(dU,dT,dX,dW,dR,dP,dS){dU[dR]={COUNTER_ID:dP,HOST:dS};var dQ=dT.location.protocol=="https:"?"https://":"http://";var dO=dT.createElement(dX);dO.async=1;dO.src=dQ+dS+dW;var dV=dT.getElementsByTagName(dX)[0];dV.parentNode.insertBefore(dO,dV)})(dM,e,"script","/counter.js","datamap",bc(),dd)},1000)})(cs,L,bN);(function cn(dN,e,dO){var dP=function(){var dQ=dN.roistatMetrikaCounterId;if(dQ){cp.set(a5,dQ)}};var dM=function(dV){var dQ="yaCounter"+dV;var dU=100,dS=0,dT=60000;var dR=function(){dS+=dU;A("YandexMetrika: trying to access counter "+dV);if(dN[dQ]===dO){if(dS<dT){setTimeout(dR,dU);dU*=2}return}var dW={};dW[c0]=p();dN[dQ].params(dW);A("YandexMetrika: visit id "+dW[c0]+" sent to counter "+dV)};setTimeout(dR,dU)};cI(function(){dP();var dS=cp.get(a5);if(!dS){A("YandexMetrika: counter id not found");return}var dR=String(dS).split(",");A("YandexMetrika: counters: "+dR);for(var dQ=0;dQ<dR.length;dQ++){if(dR[dQ].trim()===""){continue}dM(dR[dQ])}})})(cs,L,bN);(function ay(dV,dZ){var d3=function(d6){A("Proxy Forms: "+d6)};var dS=function(){if(dV.roistat.proxyForms.loaded&&dV.roistat.proxyForms.settings.length>0){d3("save loaded settings");d0(dV.roistat.proxyForms.settings)}else{d3("settings not loaded, getting from storage");dV.roistat.proxyForms.settings=cp.getObject(dx)||[]}};var d0=function(d6){cp.setObject(dx,d6)};var dW=function(){d3("init form listener");dO(dV.roistat.proxyForms.settings);e(dV.roistat.proxyForms.settings)};var d5=function(d6){return d6.hasOwnProperty("hosts")&&d6.hasOwnProperty("is_excluding_hosts")&&bB(d6.hosts)&&d6.hosts.length>0};var dQ=function(d7){if(!d5(d7)){return true}var d8=dl(d7.hosts,bg(dV.location.host));var d6=Boolean(d7.is_excluding_hosts);return d6?!d8:d8};var dN=function(d7){var d6=[];r(d7,function(d8){if(dQ(d8)){d6.push(d8)}});return d6};var e=function(d6){var d8=[];r(d6,function(d9){if(d9.type==="js-button"){d8.push(d9)}});if(d8.length<1){d3("no button settings");return}var d7;if(dZ.addEventListener){d7=function(d9){dR(d8,d9,d9.target,dP)};dZ.addEventListener("click",d7,true)}else{if(dZ.attachEvent){d7=function(){var d9=dV.event;dR(d8,d9,d9.srcElement,dP,true)};dZ.attachEvent("onclick",d7)}else{d3("Listener could not be attached")}}};var dO=function(d7){H("Proxy form debug: start");var d6=[];r(d7,function(d9){if(d9.type==="form"){d6.push(d9)}});if(d6.length<1){d3("no form settings");return}if(dZ.addEventListener){var d8=function(d9){dR(d6,d9,d9.target,d4)};dZ.addEventListener("submit",d8,true)}else{if(dZ.attachEvent){setInterval(function(){d6=dN(d6);var d9=dZ.getElementsByTagName("form");r(d9,function(ea){if(ea.getAttribute("data-roistat-proxy-form-checked")==="true"){return}ea.setAttribute("data-roistat-proxy-form-checked","true");r(d6,function(eb){if(dM(ea,eb.selector)){ea.attachEvent("onsubmit",function(){dV.event.returnValue=false;H("Proxy form debug: start sending form lead");d4(eb,dV.event.srcElement)})}})})},2000)}else{d3("Listener could not be attached")}}};var dR=function(d9,ea,eb,d8,d6){var ec=dN(d9);var d7=null;r(ec,function(ed){if(dM(eb,ed.selector)){d7=ed}});if(d7===null){d3("No matched settings found for listener");return}d8(ea,d7,eb,d6)};var d4=function(ea,d8,d9,d7){var d6=dY(d9,d8);if(!d1(d6,d8)){H("Proxy form debug: lead fields is not valid");return}d7?ea.returnValue=false:ea.preventDefault();H("Proxy form debug: sending lead");dT(d6,d8,function(){HTMLFormElement.prototype.submit.call(d9)})};var dP=function(d8,d7){var d6=dY(null,d7);if(!d1(d6,d7)){return}dT(d6,d7)};var dT=function(d6,d9,eb){var ea={};var d8=dU(d9.crm)&&d9.crm.hasOwnProperty("is_enabled");var d7=d8?d9.crm.is_enabled:true;ea.leadName=d9.hasOwnProperty("lead_name")?d9.lead_name:"Новый лид с формы "+d9.title;ea.formTitle=d9.title;ea.name=d6.name;ea.phone=d6.phone;ea.email=d6.email;ea.text=d6.comment;ea.fields=d6.fields;ea.placeholders_data=d6.placeholdersData;ea.is_need_callback=d9.is_need_callback>0?1:0;ea.is_skip_sending=!d7;dV.roistatGoal.reach(ea,eb)};var dU=function(d6){return(typeof d6==="number"&&!isNaN(d6))||(typeof d6==="string"&&d6!=="")||(typeof d6==="object"&&d6!==null)||(typeof d6==="boolean"&&d6)||bB(d6)};var d1=function(d6,d8){var d7=[],ea=["name","email","phone","comment"];r(ea,function(eb){if(d8.hasOwnProperty(eb)&&d8[eb].required>0){d7.push(eb)}});if(bB(d8.fields)){r(d8.fields,function(eb){if(eb.required>0){d7.push(eb)}})}var d9=true;r(d7,function(eb){if(!d6.hasOwnProperty(eb)||!dU(d6[eb])){d9=false}});return d9};var dY=function(d8,d7){var d6={};d6.name=d7.name?dX(d8,d7.name.value,d7.name.type):"";d6.phone=d7.phone?dX(d8,d7.phone.value,d7.phone.type):"";
d6.email=d7.email?dX(d8,d7.email.value,d7.email.type):"";d6.comment=d7.comment?dX(d8,d7.comment.value,d7.comment.type):"";d6.fields={};d6.placeholdersData={orderPage:cG};if(bB(d7.fields)){r(d7.fields,function(d9){d6.fields[d9.name]=dX(d8,d9.value,d9.type)})}return d6};var dX=function(d7,ea,d6){switch(d6){case"plain":return ea||"";case"input":var d9=d7.querySelector('input[name="'+ea+'"]');return d9?d9.value:"";case"js":try{return(new Function(ea))()}catch(d8){return""}}};var d2=function(){d3("init");if(aP()){d3("Shut down because only online chat need to be inited");return}if(!dV.roistat.proxyForms.enabled){d3("disabled");return}dS();dW()};var dM=function(d9,d7){if(typeof Element!=="undefined"&&Element.prototype.matches){var d6=d9.matches(d7);if(!d6){return d9.closest(d7)?d9.closest(d7).matches(d7):false}return d6}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var ea=d9.matchesSelector(d7);if(!ea){return d9.closest(d7)?d9.closest(d7).matches(d7):false}return ea}else{if(dZ.querySelectorAll){var eb=dZ.querySelectorAll(d7);for(var d8=0;d8<eb.length;d8++){if(eb[d8]===d9){return true}}return false}}}return false};cI(d2);dV.roistatSaveProxyFormSettings=d0})(cs,L);(function Q(){if(cs.onRoistatAllModulesLoaded!==bN&&typeof cs.onRoistatAllModulesLoaded==="function"){A("onRoistatAllModulesLoaded: call");cs.onRoistatAllModulesLoaded()}})();(function bd(dS,dV,dP){var e=function(){return cp.get(at)*1>0};var dU=function(d1){A("Request listener: "+d1)};var d0=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var dT=/^[^\s]+[@][^\s]+$/g;var dO=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dN=function dN(){dU("listen");if(dS.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function d3(d6){var d5=this;dW(d5.responseURL,d6,function(){d5.oldSend(d6)})}XMLHttpRequest.prototype.send=d3}if(dS.ActiveXObject){var d2=d4;function d4(d7){var d5=new d2(d7);var d8={};if(d7.toLowerCase()==="msxml2.xmlhttp"){d8={_ax:d5,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var d6="";d8._onReadyStateChange=function(){var d9=d8;return function(){d9.readyState=d9._ax.readyState;if(d9.readyState===4){d9.responseText=d9._ax.responseText;d9.responseXml=d9._ax.responseXml;d9.status=d9._ax.status;d9.statusText=d9._ax.statusText}if(d9.onReadyStateChange){d9.onReadyStateChange()}}}();d8.open=function(ed,eb,ec,d9,ea){d6=eb;ec=(ec!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(ed,eb,ec,d9,ea)};d8.send=function(d9){var ea=this;dW(d6,d9,function(){this._ax.send(d9)})}}else{d8=d5}return d8}dS.ActiveXObject=d4}if(dS.fetch){var d1=fetch;fetch=function(d5,d6){dW(d5.url,d6||{});return d1(d5,d6||{})}}dS.addEventListener("submit",function(d8){var ea=d8.target.elements;var d9={};for(var d7=0;d7<ea.length;d7++){var d6=ea[d7];var d5=d6.getAttribute("name");d9[d5]=d6.value}dW("",d9)})};function dQ(d1){var d4={};if(d1.length===0){return d4}var d3=d1.split("?");if(d3.length<2){return d4}var d2=d3[1];d4=dM(d2);return d4}function dM(d2){var d3=d2.split("&"),d5={};for(var d1=0;d1<d3.length;d1++){var d4=d3[d1].split("=");if(d4.length<2){continue}d5[d4[0]]=d4[1]}return d5}function dY(ei){dU("data: "+JSON.stringify(ei));var eb={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var d8={email:"",phone:"",name:""};for(var d1 in eb){var ee=eb[d1];for(var ed in ee){if(ee.hasOwnProperty(ed)){if(ei.hasOwnProperty(ee[ed])){d8[d1]=ei[ee[ed]];break}}}}dU("new data: "+JSON.stringify(d8));var d3=d8.phone.length===0;var d7=d8.email.length===0;if(!d3&&!d7){return d8}var d2=new RegExp(dT);var d6=new RegExp(d0);var d9=Object.keys(ei);for(var ef=0;ef<d9.length;ef++){var ec=decodeURIComponent(String(ei[d9[ef]]));if(d7){var d4=ec.match(d2);if(d4&&d4.length>0){var ea=d8.email;d8.email=d4[0];dU("parsing email, before: "+ea+", after: "+d8.email)}}if(d3){var eh=ec.replace(/[\s-.()+*_—:;'"`]/g,"");var eg=eh.match(d6);if(eg&&eg.length>0){var d5=d8.phone;d8.phone=ec;dU("parsing phone, before: "+d5+", after: "+d8.phone)}}}return d8}var dR=function(d1){var d2=bg(d1);return !az(dO,d2)};function dW(d3,d2,d1){if(d3.length>0&&!dR(d3)){return}var d5=dQ(d3);var d7=d2;if(typeof d7==="string"){d7=dM(d7)}dU("data before parsing "+JSON.stringify({get:d5,post:d7}));var d6=dY(d5);var d4=dY(d7);dU("data after parsing "+JSON.stringify({get:d6,post:d4}));dX(d6,d4,d1)}function dX(d1,d3,d7){var d6=d1.email.length>0?d1.email:d3.email;var d2=d1.phone.length>0?d1.phone:d3.phone;var d5=d1.name.length>0?d1.name:d3.name;if(d6.length==0&&d2.length==0){d7();return}setTimeout(function(){d7()},100);var d4={leadName:"Автоматический лид с сайта",name:d5,phone:d2,email:d6,is_skip_sending:1};dU("phone or email is not empty, reaching goal "+JSON.stringify(d4));
roistatGoal.reach(d4)}(function dZ(){if(!e()){dU("disabled, skip");return}dN()})()})(cs,L,bN)})(window,document,undefined);